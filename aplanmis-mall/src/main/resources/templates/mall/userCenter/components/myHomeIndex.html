<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>我的空间首页</title>
    <link rel="stylesheet" href="/framework-ui/src/main/resources/static/agcloud/framework/js-lib/element-2/element.css"
        th:href="@{/agcloud/framework/js-lib/element-2/element.css}">
    <link rel="stylesheet" href="../../../../static/mall/css/common/reset_wt.css"
        th:href="@{/mall/css/common/reset_wt.css}">
    <link rel="stylesheet" href="../../../../static/mall/css/common/base_wt.css"
        th:href="@{/mall/css/common/base_wt.css}">
    <style>
        /* prefixed by https://autoprefixer.github.io (PostCSS: v7.0.23, autoprefixer: v9.7.3) */

        #myHomeindex {
            position: relative;
        }

        .header-wraper {
            width: 930px;
            height: 120px;
            background: url("../../mall/images/userCenter/header-wraper-bg.png") #F8F8F8 no-repeat center;
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-align: center;
            -ms-flex-align: center;
            align-items: center;
            margin-bottom: 22px;
        }

        .header-wraper .head-img-url {
            width: 90px;
            height: 90px;
            background-color: #ffffff;
            border-radius: 50%;
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-align: center;
            -ms-flex-align: center;
            align-items: center;
            -webkit-box-pack: center;
            -ms-flex-pack: center;
            justify-content: center;
            margin-left: 25px;
            position: relative;
        }

        .header-wraper .head-img-url .garden-min {
            position: absolute;
            bottom: 36px;
            right: -4px;
            cursor: pointer;
        }

        .header-wraper .head-user-info {
            margin-left: 27px;
            color: #ffffff;
            font-size: 14px;
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-orient: vertical;
            -webkit-box-direction: normal;
            -ms-flex-direction: column;
            flex-direction: column;
        }

        .header-wraper .head-user-approval {
            position: absolute;
            right: 80px;
            top: 15px;
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-orient: vertical;
            -webkit-box-direction: normal;
            -ms-flex-direction: column;
            flex-direction: column;
            -webkit-box-pack: center;
            -ms-flex-pack: center;
            justify-content: center;
            -webkit-box-align: center;
            -ms-flex-align: center;
            align-items: center;
            color: #fff;
            font-size: 14px;
            cursor: pointer;
        }

        .header-wraper .head-user-info .nickName {
            font-size: 18px;
            font-family: Microsoft YaHei;
            margin-bottom: 14px;
        }

        .header-wraper .head-user-info .nickName-des {
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
        }

        .header-wraper .head-user-info .nickName-des p {
            margin-bottom: 6px;
        }

        .header-wraper .head-user-info .nickName-des .nickName-des-right {
            margin-left: 47px;
        }

        .header-wraper .head-user-approval .btn {
            display: inline-block;
            width: 104px;
            height: 34px;
            line-height: 34px;
            background: #ffffff;
            color: #457EFF;
            font-size: 14px;
            text-align: center;
            border-radius: 25px;
            margin-left: 45px;
        }

        .header-wraper .head-user-approval .btn:nth-child(2) {
            margin-left: 18px;
        }

        .title-item {
            font-size: 24px;
            font-family: Microsoft YaHei;
            font-weight: bold;
            color: rgba(63, 64, 71, 1);
            position: relative;
            text-indent: 15px;

        }

        .title-item:before {
            content: "";
            display: inline-block;
            width: 5px;
            height: 24px;
            background: #457EFF;
            position: absolute;
            top: 50%;
            margin-top: -12px;
            left: 0px;
        }

        .title-item .title-line {
            display: inline-block;
            width: 788px;
            height: 10px;
            background: rgba(240, 243, 246, 1);
            margin-left: 20px;
            vertical-align: middle;
        }

        .my-data-box {
            width: 930px;
        }

        .my-data-box ul.data-list {
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-pack: justify;
            -ms-flex-pack: justify;
            /*               justify-content: space-between;*/
            margin-top: 20px;
        }

        .my-data-box ul.data-list a {
            display: inherit;
            height: inherit;
        }

        .my-data-box ul.data-list li.data-list-item {
            width: 170px;
            height: 150px;
            text-align: center;
            background: rgba(255, 255, 255, 1);
            border: 1px solid rgba(240, 243, 246, 1);
            -webkit-transition: all .3s ease;
            -o-transition: all .3s ease;
            transition: all .3s ease;
            position: relative;
            margin-right: 18px;
        }

        .my-data-box ul.data-list li.data-list-item:hover {
            -webkit-box-shadow: 0px 4px 16px 0px rgba(9, 41, 77, 0.12);
            box-shadow: 0px 4px 16px 0px rgba(9, 41, 77, 0.12);
        }

        .my-data-box ul.data-list li.data-list-item p {
            position: absolute;
            left: 50%;
            -webkit-transform: translateX(-50%);
            -ms-transform: translateX(-50%);
            transform: translateX(-50%);
            bottom: 20px;
            width: 112px;
            font-size: 16px;
            font-family: Microsoft YaHei;
            font-weight: bold;
            color: rgba(63, 64, 71, 1);
        }

      /*  .my-data-box ul.data-list li.data-list-item:hover p {
            display: none;
        }*/

        .my-data-box ul.data-list li.data-list-item p.checkDetail {
            font-size: 14px;
            font-family: Microsoft YaHei;
            color: rgba(255, 255, 255, 1);
            width: 103px;
            height: 30px;
            line-height: 30px;
            background: rgba(69, 126, 255, 1);
            border-radius: 15px;
            display: none;
            bottom: 12px;
        }

       /* .my-data-box ul.data-list li.data-list-item:hover p.checkDetail {
            display: block;
        }*/

        .my-static-box {
            width: 930px;
            margin-top: 43px;
        }

        .my-static-box .title-item .title-line {
            width: 785px;
        }

        .my-static-box ul.static-list {
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-pack: justify;
            -ms-flex-pack: justify;
            justify-content: space-between;
            margin-top: 25px;

        }

        .my-static-box ul.static-list li.static-list-item {
            width: 216px;
            height: 98px;
            background: rgba(255, 255, 255, 1);
            border: 1px solid rgba(227, 230, 237, 1);
            border-radius: 4px;
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            margin-right: 15px;
            -webkit-box-align: center;
            -ms-flex-align: center;
            align-items: center;
        }

        .my-static-box ul.static-list li.static-list-item img {
            -ms-flex-negative: 1;
            flex-shrink: 1;
            width: 58px;
            height: 59px;
            margin-left: 27px;
            margin-right: 22px;
        }
        .my-static-box ul.static-list li.static-list-item .type{
            display: inline-block;
        }
        .my-static-box ul.static-list li.static-list-item .type .type-num {
            font-size: 34px;
            font-weight: 700;
            color: rgba(87, 89, 98, 1);
        }

        .my-static-box ul.static-list li.static-list-item .type .type-txt {
            font-size: 14px;
            font-family: Microsoft YaHei;
            font-weight: 400;
            color: rgba(127, 133, 144, 1);
        }

        .my-declareing-box {
            width: 930px;
            margin-top: 45px;
        }

        .my-declareing-box .title-item .title-line {
            width: 708px;
        }

        .my-declareing-box .el-table .cell {
            color: #575962;
        }

        .my-declareing-box .el-table th {
            width: 930px;
            height: 60px;
            background: rgba(249, 251, 253, 1);
            font-size: 14px;
            font-family: Microsoft YaHei;
            font-weight: 400;
            color: rgba(127, 133, 144, 1);
        }

        .my-declareing-box .applyinstState {
            margin-left: 14px;
        }

        .my-declareing-box .my-declareing-table {
            margin-top: 25px;
        }

        .stageIteminstName-bg {
            background: rgba(238, 248, 255, 1);
            border-radius: 15px;
            position: absolute;
            left: -11px;
            top: 50%;
            padding: 2px 15px;
            -webkit-transform: translateY(-50%);
            -ms-transform: translateY(-50%);
            transform: translateY(-50%);
            overflow: hidden;
            -o-text-overflow: ellipsis;
            text-overflow: ellipsis;
            white-space: nowrap;
            word-wrap: normal;
            max-width: 200px;
        }
    </style>
    <script>
        var ctx = "[[@{/}]]";
    </script>
</head>

<body>

    <div id="myHomeindex">
        <header>
            <div class="header-wraper">
                <div class="head-img-url" style="cursor: pointer;" @click="toUserCenterPage">
                    <img src="../../../../static/mall/images/userCenter/avatar.png"
                        th:src="@{/mall/images/userCenter/avatar.png}">
                    <img src="../../../../static/mall/images/userCenter/garden-min.png"
                        th:src="@{/mall/images/userCenter/garden-min.png}" class="garden-min">
                </div>
                <div class="head-user-info">
                    <p class="nickName"
                        v-text='aeaUnitInfo && aeaUnitInfo.loginName || aeaLinkmanInfo && aeaLinkmanInfo .loginName ||"未知用户"'>
                    </p>
                    <div class="nickName-des" v-if="user=='2'">
                        <div class="nickName-des-left">
                            <p>法定代表人：{{aeaUnitInfo.idrepresentative||"-"}} </p>
                            <p>联系电话：{{aeaUnitInfo.idmobile||"-"}}</p>
                        </div>
                        <div class="nickName-des-right">
                            <p>统一社会信用代码：{{aeaUnitInfo.unifiedSocialCreditCode||"-"}} </p>
                            <p>单位名称：{{aeaUnitInfo.applicant||"-"}}</p>
                        </div>
                    </div>
                    <div class="nickName-des" v-else>
                        <div class="nickName-des-left">
                            <p>联系人名：{{aeaLinkmanInfo.linkmanName||"-"}} </p>
                            <p>联系电话：{{aeaLinkmanInfo.linkmanMobilePhone && aeaLinkmanInfo.linkmanMobilePhone!=null?aeaLinkmanInfo.linkmanMobilePhone:"-"}}
                            </p>
                        </div>
                        <div class="nickName-des-right">
                            <p>身份证号：{{aeaLinkmanInfo.linkmanCertNo||"-"}} </p>
                            <p>邮箱：{{aeaLinkmanInfo.linkmanMail||"-"}}</p>
                        </div>
                    </div>
                </div>
                <div class="head-user-approval" @click="goToStageApply">
                    <img src="../../../../static/mall/images/userCenter/icon.png"
                        th:src="@{/mall/images/userCenter/icon.png}" alt="并联申报图标">
                    <p style="margin-top:3px;">并联申报</p>
                </div>
            </div>
        </header>
        <section class="my-data-box">
            <div class="title-item">
                快捷入口<span class="title-line"></span>
            </div>
            <ul class="data-list clearfix">
                <li class="data-list-item fl"  @click="toDeclare">
                    <a target="_blank">
                        <img src="../../../../static/mall/images/userCenter/data-icon-1.png"
                            th:src="@{/mall/images/userCenter/data-icon-1.png}" alt="">
                        <p>我的项目库</p>
<!--                        <p class="checkDetail" @click="toDeclare">查看详情</p>-->
                    </a>
                </li>
                <li class="data-list-item fl" @click="toMyMaterials">
                    <a target="_blank">
                        <img src="../../../../static/mall/images/userCenter/data-icon-2.png"
                            th:src="@{/mall/images/userCenter/data-icon-2.png}" alt="">
                        <p>我的材料库</p>
<!--                        <p class="checkDetail" @click="toMyMaterials">查看详情</p>-->
                    </a>
                </li>
                <!--<li class="data-list-item">
                    <a target="_blank" >
                        <img src="../../../../static/mall/images/userCenter/data-icon-3.png" th:src="@{/mall/images/userCenter/data-icon-3.png}" alt="">
                        <p>我的证照库</p>
                        <p class="checkDetail">查看详情</p>
                    </a>
                </li>-->
                <li class="data-list-item fl" @click="toMyCloundSpaces">
                    <a target="_blank">
                        <img src="../../../../static/mall/images/userCenter/data-icon-4.png"
                            th:src="@{/mall/images/userCenter/data-icon-4.png}" alt="">
                        <p>我的云盘</p>
<!--                        <p class="checkDetail" @click="toMyCloundSpaces">查看详情</p>-->
                    </a>
                </li>
                <li class="data-list-item fl" @click="toCreditDetail">
                    <a target="_blank">
                        <img src="../../../../static/mall/images/userCenter/data-icon-5.png"
                            th:src="@{/mall/images/userCenter/data-icon-5.png}" alt="">
                        <p>企业信用<span v-show="isBlack"
                                style="position:absolute;left: 90px;top: 2px;font-size:12px;display: block;width:39px;height:18px;background:rgba(255,75,71,1);border-radius:4px;color: #fff;">失信</span>
                        </p>
<!--                        <p class="checkDetail" @click="toCreditDetail">查看详情</p>-->
                    </a>
                </li>
            </ul>
        </section>

        <section class="my-static-box">
            <div class="title-item">
                统计分析<span class="title-line"></span>
            </div>
            <ul class="static-list clearfix">
                <li class="static-list-item fl">
                    <img src="../../../../static/mall/images/userCenter/type-icon-1.png"
                        th:src="@{/mall/images/userCenter/type-icon-1.png}" alt="">
                    <div class="type">
                        <p class="type-num">{{applyNum}}</p>
                        <p class="type-txt">已申报</p>
                    </div>
                </li>
                <li class="static-list-item fl">
                    <img src="../../../../static/mall/images/userCenter/type-icon-3.png"
                         th:src="@{/mall/images/userCenter/type-icon-3.png}" alt="">
                    <div class="type">
                        <p class="type-num">{{completedNum}}</p>
                        <p class="type-txt">已办结</p>
                    </div>
                </li>
                <li class="static-list-item fl">
                    <img src="../../../../static/mall/images/userCenter/type-icon-2.png"
                        th:src="@{/mall/images/userCenter/type-icon-2.png}" alt="">
                    <div class="type">
                        <p class="type-num">{{matCompletionNum}}</p>
                        <p class="type-txt">材料补全</p>
                    </div>
                </li>
                <li class="static-list-item fl">
                    <img src="../../../../static/mall/images/userCenter/type-icon-4.png"
                        th:src="@{/mall/images/userCenter/type-icon-4.png}" alt="">
                    <div class="type">
                        <p class="type-num">{{supplyNum}}</p>
                        <p class="type-txt">材料补正</p>
                    </div>
                </li>
            </ul>
        </section>

        <section class="my-declareing-box">
            <div class="title-item">
                进行中申报列表<span class="title-line"></span>
            </div>
            <div class="my-declareing-table">
                <el-table :data="applyIngData" style="width:100%">
                    <el-table-column fixed prop="applyinstCode" label="申报流水号" width="200">
                    </el-table-column>
                    <el-table-column prop="" label="	项目代码 | 项目名称" win-width="400">
                        <template slot-scope="scope">
                            <el-tooltip placement="top" effect="light">
                                <div slot="content">项目代码：{{scope.row.localCode}}<br />
                                    <br />工程代码：{{scope.row.gcbm}}<br /> <br />项目/工程名称：{{scope.row.projName}}
                                </div>
                                <div>
                                    <div>{{scope.row.localCode}}</div>
                                    <div>{{scope.row.projName}}</div>
                                </div>
                            </el-tooltip>
                        </template>
                    </el-table-column>
                    <el-table-column prop="stageIteminstName" label="阶段 / 事项" width="200">
                        <template slot-scope="scope">
                            <el-tooltip placement="top" effect="light" v-if="scope.row.isSeriesApprove == 1">
                                <div slot="content">主题名称：{{scope.row.themeName}}<br /> <br />
                                    事项名称：{{scope.row.stageIteminstName}}</div>
                                <div>
                                    <div>{{scope.row.stageIteminstName}}</div>
                                </div>
                            </el-tooltip>
                            <el-tooltip placement="top" effect="light" v-else>
                                <div slot="content">主题名称：{{scope.row.themeName}}<br /> <br />
                                    阶段名称：{{scope.row.stageIteminstName}}</div>
                                <div class="stageIteminstName-bg">{{scope.row.stageIteminstName}}</div>
                            </el-tooltip>
                        </template>
                    </el-table-column>
                    <el-table-column prop="projName" label="状态" width="120">
                        <template slot-scope="scope">
                            <span class="applyinstState applyinstState1"
                                v-if="scope.row.applyinstState=='0'">已接件未审核</span>
                            <span class="applyinstState applyinstState2"
                                v-else-if="scope.row.applyinstState=='1'">已接件并审核</span>
                            <span class="applyinstState applyinstState3"
                                v-else-if="scope.row.applyinstState=='2'">已受理</span>
                            <span class="applyinstState applyinstState4" v-else-if="scope.row.applyinstState=='3'">
                                待补全
                                <el-tooltip effect="light" placement="top">
                                    <div slot="content">{{scope.row.approveComments||'无'}}</div><span
                                        class="mstage-count not-allow-sel"><i class="el-icon-question"></i></span>
                                </el-tooltip>
                            </span>
                            <span class="applyinstState applyinstState5"
                                v-else-if="scope.row.applyinstState=='4'">已补全</span>
                            <span class="applyinstState applyinstState6" v-else-if="scope.row.applyinstState=='5'">
                                不予受理
                                <el-tooltip effect="light" placement="top">
                                    <div slot="content">{{scope.row.approveComments||'无'}}</div><span
                                        class="mstage-count not-allow-sel"><i class="el-icon-question"></i></span>
                                </el-tooltip>
                            </span>
                            <span class="applyinstState applyinstState7"
                                v-else="scope.row.applyinstState=='6'">已办结</span>
                        </template>
                    </el-table-column>
                    <el-table-column fixed="right" label="操作" align="center" width="80">
                        <template slot-scope="scope">
                            <span class="option-btn">
                                <a href="javascript:;" @click="toDetail(scope.row)">查看</a>
                            </span>
                        </template>
                    </el-table-column>
                </el-table>

                <el-pagination style="marginTop: 15px;" background align="right" :page-size="declare.pageSize"
                    :current-page="declare.currentPage" @size-change="handleSizeChange"
                    @current-change="handleCurrentChange" :page-sizes="[5,10, 20]"
                    layout="total,sizes, prev, pager, next, jumper" :total="declare.total" :hide-on-single-page="true">
                </el-pagination>
            </div>
        </section>
    </div>

    <!--    <script src="/framework-ui/src/main/resources/static/agcloud/framework/js-lib/jquery-v1/jquery.min.js" th:src="@{/agcloud/framework/js-lib/jquery-v1/jquery.min.js}"></script>-->
    <!--    <script src="/framework-ui/src/main/resources/static/agcloud/framework/js-lib/vue-v2/vue.js" th:src="@{/agcloud/framework/js-lib/vue-v2/vue.js}"></script>-->
    <!--    <script src="/framework-ui/src/main/resources/static/agcloud/framework/js-lib/element-2/element.js" th:src="@{/agcloud/framework/js-lib/element-2/element.js}"></script>-->
    <!--    <script src="/framework-ui/src/main/resources/static/agcloud/framework/js-lib/agcloud-lib/js/common.js" th:src="@{/agcloud/framework/js-lib/agcloud-lib/js/common.js}"></script>-->
    <!--    <script src="../../../../static/common/js/common.js" th:src="@{/common/js/common.js}"></script>-->

    <script src="../../../../static/mall/js/userCenter/components/myHomeIndex.js"
        th:src="@{/mall/js/userCenter/components/myHomeIndex.js}" type="text/javascript"></script>
</body>

</html>