<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>事项一单清</title>
    <link rel="stylesheet" href="../../static/mall/css/listmatter/listmatter.css" th:href="@{/mall/skin_v4.1/css/listmatter/listmatter.css}">
</head>
<body>
    <div id="listmatter" class="listmatter">
        <div v-show="!contentLoading">
            <section>
                <div class="wt-content">
                     <div class="local-main">
                         <span class="local-icon"></span>
                         <span class="local-span"><img width="20" height="20" src="../../static/mall/images/guide/u736.png" th:src="@{/mall/skin_v4.1/images/listmatter/u391.svg}" /></span>
                         <a class="local-a" :href="ctx+'rest/main/toIndexPage'">首页</a>
                         <span class="local-span">&gt;</span>
                         <a class="local-a" :href="ctx+'rest/main/toIndexPage'"> 报建指引</a>
                         <span class="local-span">&gt;</span>
                         <a class="local-a active" href="javascript:void(0);" >事项一单清 </a>
                     </div>
                </div>
                <div class="back" @click="gotoGuideIndex">
                  返回
                </div>
            </section>
            <section>
                <div class="matter-title-wrapper clearfix">
                    <div class="fl" style="margin-left:25px;margin-top: 25px;">
                        <p class="matter-title">{{listmatterData.themeName}}</p>
                        <p class="matter-title-intro" style="margin-top: 10px;">
                            <span>申请阶段：{{listmatterData.stageName}}</span>
                            <span style="margin-left: 10px;">阶段时限：{{listmatterData.dueNum}}个工作日</span>
                        </p>
                    </div>
                    <div class="fr" style="margin-top: 35px;margin-right: 30px;">
                        <a href="javascript:;" class="matter-title-right-btn">查看项目报建流程</a>
                    </div>
                </div>
            </section>

            <section>
                <div class="wt-collapse-box" @click="show1 = !show1">
                    <div class="wt-collapse clearfix">
                        <div class="fl"><span class="wt-collapse-title">事项一单清</span> <span class="wt-collapse-title-des">（我还不知道怎么选事项，我需要<a href="#" style="color: #4293F4;">智能引导</a>。）</span></div>
                        <div class="fr">
                            <img width="27" height="16" th:src="@{/mall/skin_v4.1/images/icon/u370.png}" />
                        </div>
                    </div>
                </div>
                <el-collapse-transition>
                <div class="parallel" v-show="show1">
                    <div class="p-header-phase1">并联事项</div>
                    <div class="parallel-table" style="margin-bottom: 40px">
                        <el-table
                                :data="parallelItemList"
                                border
                                style="width: 100%">
                            <el-table-column
                                   type="selection"
                                   align="center"
                                    width="50">
                            </el-table-column>
                            <el-table-column
                                    prop="date"
                                    label="事项名称"
                                    >
                                <template slot-scope="scope">
                                    <div>
                                        <div>
                                            <p class="parallel-title">{{scope.row.itemName}}</p>
                                            <p class="parallel-title-intro">
                                                <span>审批部门：{{scope.row.currentCarryOutItem.orgName||'-'}}</span>
                                                <span>审批时限：{{scope.row.currentCarryOutItem.dueNum||5}}个工作日</span>
                                                <span style="margin-left: 20px;">结果物：
                                                    <span v-if="scope.row.resultMats">
                                                         <span style="margin-left: 8px;" v-for="item in scope.row.resultMats">{{item}}</span>
                                                    </span>
                                                    <span>暂无</span>
                                                </span>
                                            </p>
                                        </div>
                                        <div v-if="itemStateList && itemStateList.lenght>0">
                                            <div>
                                                <p class="situation-title"><span class="situation">情形</span>属于踏勘论证范围或按规定应当进行节地评价的提交：</p>
                                                <p class="situation-title-intro">
                                                    <el-radio v-model="radio" label="1">是</el-radio>
                                                    <el-radio v-model="radio" label="2">否</el-radio>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </template>
                            </el-table-column>
                            <el-table-column
                                    prop="isDoneItem"
                                    sortable
                                    label=" 是否必办"
                                    width="160">
                                <template slot-scope="scope">
                                    <div>
                                        <span v-if="scope.row.isDoneItem == 1">必办</span>
                                        <span v-else>选办</span>
                                    </div>
                                </template>
                            </el-table-column>
                            <el-table-column
                                    prop="address"
                                    label=" 审批层级"
                                    width="160">
                                    <template slot-scope="scope">
                                        <div v-if="scope.row.isCatalog==1">
                                            <template v-if="scope.row.carryOutItems&&scope.row.carryOutItems.length>0">
                                                <el-select :disabled="scope.row.disabled" v-model="scope.row.currentCarryOutItem.itemVerId" @change="currentItemVerIdChangehandle"
                                                           placeholder="请选择活动区域">
                                                    <el-option v-for="(item,indexOp) in scope.row.carryOutItems"
                                                               :key="indexOp"
                                                               :label="item.regionName"
                                                               :value="item.itemVerId"></el-option>
                                                </el-select>
                                            </template>
                                            <template v-else>
                                                <el-select disabled="disabled" value="" placeholder="请选择活动区域">
                                                    <el-option value="请选择活动区域"></el-option>
                                                </el-select>
                                            </template>
                                        </div>
                                        <div v-else>
                                            <span>{{scope.row.regionName}}</span>
                                        </div>
                                    </template>
                            </el-table-column>
                        </el-table>
                    </div>
                    <div class="p-header-phase1">并行推进事项</div>
                    <div class="parallel-table" style="margin-bottom: 40px">
                        <el-table
                                :data="coreItemList"
                                border
                                style="width: 100%">
                            <el-table-column
                                    type="selection"
                                    align="center"
                                    width="50">
                            </el-table-column>
                            <el-table-column
                                    prop="date"
                                    label="事项名称"
                            >
                                <template slot-scope="scope">
                                    <div>
                                        <div>
                                            <p class="parallel-title">{{scope.row.itemName}}</p>
                                            <p class="parallel-title-intro">
                                                <span>审批时限：{{scope.row.currentCarryOutItem.dueNum||5}}个工作日</span>
                                                <span style="margin-left: 20px;">结果物：
                                                    <span v-if="scope.row.resultMats">
                                                         <span style="margin-left: 8px;" v-for="item in scope.row.resultMats">{{item}}</span>
                                                    </span>
                                                    <span>暂无</span>
                                                </span>
                                            </p>
                                        </div>
                                        <div v-if="itemStateList && itemStateList.lenght>0">
                                            <div>
                                                <p class="situation-title"><span class="situation">情形</span>属于踏勘论证范围或按规定应当进行节地评价的提交：</p>
                                                <p class="situation-title-intro">
                                                    <el-radio v-model="radio" label="1">是</el-radio>
                                                    <el-radio v-model="radio" label="2">否</el-radio>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </template>
                            </el-table-column>
                            <el-table-column
                                    prop="isDoneItem"
                                    sortable
                                    label=" 是否必办"
                                    width="160">
                                <template slot-scope="scope">
                                    <div>
                                        <span v-if="scope.row.isDoneItem == 1">必办</span>
                                        <span v-else>选办</span>
                                    </div>
                                </template>
                            </el-table-column>
                            <el-table-column
                                    prop="address"
                                    label=" 审批层级"
                                    width="160">
                                <template slot-scope="scope">
                                    <div v-if="scope.row.isCatalog==1">
                                        <template v-if="scope.row.carryOutItems&&scope.row.carryOutItems.length>0">
                                            <el-select :disabled="scope.row.disabled" v-model="scope.row.currentCarryOutItem.itemVerId" @change="currentItemVerIdChangehandle"
                                                       placeholder="请选择活动区域">
                                                <el-option v-for="(item,indexOp) in scope.row.carryOutItems"
                                                           :key="indexOp"
                                                           :label="item.regionName"
                                                           :value="item.itemVerId"></el-option>
                                            </el-select>
                                        </template>
                                        <template v-else>
                                            <el-select disabled="disabled" value="" placeholder="请选择活动区域">
                                                <el-option value="请选择活动区域"></el-option>
                                            </el-select>
                                        </template>
                                    </div>
                                    <div v-else>
                                        <span>{{scope.row.regionName}}</span>
                                    </div>
                                </template>
                            </el-table-column>
                        </el-table>
                    </div>
                </div>
                </el-collapse-transition>
            </section>

            <section>
                <div class="wt-collapse-box">
                    <div class="wt-collapse clearfix">
                        <div class="fl"><span class="wt-collapse-title">一张表单</span></div>
                        <div class="fr">
                            <span class="expandPDF">导出PDF</span>
                            <img width="27" height="16" th:src="@{/mall/skin_v4.1/images/icon/u370.png}" />
                        </div>
                    </div>
                </div>
                <div class="formArea">

                </div>
            </section>

            <section v-loading="materialLoading">
                <div class="wt-collapse-box">
                    <div class="wt-collapse clearfix">
                        <div class="fl"><span class="wt-collapse-title">一套材料</span> </div>
                        <div class="fr">
                            <img width="27" height="16" th:src="@{/mall/skin_v4.1/images/icon/u370.png}" />
                        </div>
                    </div>
                </div>
                <div class="parallel">
                    <div class="p-header-phase1">必选材料（4）</div>
                    <div class="Material-table" style="margin-bottom: 40px">
                        <el-table
                                :data="tableData"
                                style="width: 100%">
                            <el-table-column
                                    type="index"
                                    label="序号"
                                    align="center"
                                    width="80">
                            </el-table-column>
                            <el-table-column
                                    prop="date"
                                    label="材料名称"
                                   >
                                <template slot-scope="scope">
                                    <div>
                                        <span>个人身份证明</span>
                                        <span class="material-sing">电子证照</span>
                                    </div>
                                </template>
                            </el-table-column>
                            <el-table-column
                                    prop="name"
                                    align="center"
                                    label="全程网办接件标准"
                                    width="180">
                                <template slot-scope="scope">
                                    <el-tooltip content="Top center" placement="top" effect="light">
                                        <img width="18" height="18" th:src="@{/mall/skin_v4.1/images/listmatter/u450.png}" />
                                    </el-tooltip>
                                </template>
                            </el-table-column>
                            <el-table-column
                                    prop="address"
                                    label="材料来源">
                            </el-table-column>
                            <el-table-column
                                    prop="address"
                                    label="材料共享类别">
                            </el-table-column>
                            <el-table-column
                                    prop="address"
                                    label="是否签章">
                            </el-table-column>
                            <el-table-column
                                    align="center"
                                    prop="address"
                                    label="资料下载">
                                <template slot-scope="scope">
                                    <div>
                                        <el-button type="text" class="text-table">空表下载</el-button>
                                    </div>
                                    <div>
                                        <el-button type="text" class="text-table">样表下载</el-button>
                                    </div>
                                </template>
                            </el-table-column>
                        </el-table>
                    </div>
                    <div class="p-header-phase1">可选材料（4）</div>
                    <div class="Material-table">
                        <el-table
                                :data="tableData"

                                style="width: 100%">
                            <el-table-column
                                    prop="date"
                                    label="日期"
                                    width="180">
                            </el-table-column>
                            <el-table-column
                                    prop="name"
                                    label="姓名"
                                    width="180">
                            </el-table-column>
                            <el-table-column
                                    prop="address"
                                    label="地址">
                            </el-table-column>
                        </el-table>
                    </div>
                </div>
            </section>

            <!--<div class="declare-btn-box">
                <a href="#" class="declare-btn">我要申报</a>
            </div>-->
        </div>
        <div v-loading="contentLoading"  v-show="contentLoading" style="width: 100%; height: 100%;position: absolute;top: 180px;"></div>
    </div>
    <script src="../../static/mall/js/listmatter/listmatter.js" th:src="@{/mall/skin_v4.1/js/listmatter/listmatter.js}" type="text/javascript"></script>
</body>
</html>