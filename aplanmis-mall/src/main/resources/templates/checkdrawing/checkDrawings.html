<!DOCTYPE html>
<HTML lang="en" xmlns:th="http://www.thymeleaf.org">
<HEAD>
    <meta charset="UTF-8">
    <th:block th:include="common/common :: commonheader('查看施工图')"/>
    <!--<title text="查看施工图"></title>-->
    <!--css-->
    <link rel="stylesheet" href="../../../../../static/checkdrawing/css/jquery.minicolors.css"
          th:href="@{/checkdrawing/css/jquery.minicolors.css}">
    <link rel="stylesheet" href="../../../../../static/checkdrawing/css/vendors.bundle.css"
          th:href="@{/checkdrawing/css/vendors.bundle.css}">
    <link rel="stylesheet" href="../../../../../static/checkdrawing/css/style.bundle.css"
          th:href="@{/checkdrawing/css/style.bundle.css}">
    <link rel="stylesheet" href="../../../../../static/checkdrawing/css/theme.css"
          th:href="@{/checkdrawing/css/theme.css}">
    <link rel="stylesheet" href="../../../../../static/checkdrawing/css/leaflet.css"
          th:href="@{/checkdrawing/css/leaflet.css}">
    <link rel="stylesheet" href="../../../../../static/checkdrawing/css/leaflet-measure-path.css"
          th:href="@{/checkdrawing/css/leaflet-measure-path.css}">
    <link rel="stylesheet" href="../../../../../static/checkdrawing/css/bootstrap.css"
          th:href="@{/checkdrawing/css/bootstrap.css}">
    <link rel="stylesheet" href="../../../../../static/checkdrawing/css/jquery-confirm.css"
          th:href="@{/checkdrawing/css/jquery-confirm.css}">
    <link rel="stylesheet" href="../../../../../static/checkdrawing/css/toastr.min.css"
          th:href="@{/checkdrawing/css/toastr.min.css}">
    <link rel="stylesheet" href="../../../../../static/checkdrawing/css/jquery-ui.min.css"
          th:href="@{/checkdrawing/css/jquery-ui.min.css}">
    <link rel="stylesheet" href="../../../../../static/checkdrawing/css/iconfont.css"
          th:href="@{/checkdrawing/css/iconfont.css}">

    <style>
        .page, .content {
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            overflow: hidden;
        }

        #drawings_viewer {
            width: 100vw;
            height: 100%;
        }

        #progressBar {
            position: absolute;
            height: 35px;
            width: 30%;
            top: 40%;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10000;
            background-color: #FFFFFF;
            border: 0;
            color: #fff;
            text-align: center;
            padding: 5px;
            box-shadow: 0 0 5px #777;
            border-radius: 4px 4px 0 0
        }

        #formopinion * {
            padding: 0;
            text-align: left;
        }

        #formopinion tr {
            height: 35px;
            font-size: 14px;
            line-height: 1.25;
        }

        #formopinion td {
            border: none;
        }

        #formopinion button {
            width: auto;
            margin: 1px 5px 1px 1px;
            padding: 9px 20px;
            border: 1px;
            height: 30px;
            float: right;
            color: #fff;
            background-color: #36a3f7;
            border-color: #ffffff;
            border-radius: 0.25rem;
        }

        #formopinion button:hover {
            color: #fff;
            background-color: #1192f6;
            border-color: #0a8cf0;
        }

        #toolbarPageNum {
            position: absolute;
            z-index: 10000;
            /*background-color: #005eb9;*/
            background-color: #7F7F7F;
            color: #fff;
            top: 0;
            left: 50%;
            box-shadow: 0 0 5px #7F7F7F;
            text-align: center;
            font-size: 12px;
            display: none;
            border-radius: 0 0 6px 6px;
            transform: translate(-50%, 0);
            opacity: 0.7;
            /*-webkit-transition: background-color .15s;*/
            height: 30px;
            line-height: 30px
        }

        #toolbarPageNum button {
            background-color: transparent;
            padding: 10px;
            border: 0;
            font-size: 24px;
            font-weight: bolder;
            text-align: center;
            display: inline-block;
            width: auto;
            padding: 0 10px;
            height: 30px;
            margin: 0;
            color: #fff;
            border: 0;
            vertical-align: top
        }

        #toolbarPageNum button:focus {
            outline: 0 none
        }

        #toolbarPageNum input {
            width: 20px;
            padding: 0;
            margin: 0
        }

        #toolbarPageNum b {
            padding: 0 10px;
            font-weight: normal;
            display: inline-block
        }

        .editor-color-picker {
            position: absolute;
            top: 0;
            right: 0;
            box-shadow: 0 0 5px #7F7F7F;
            z-index: 1000
        }

        .editor-color-picker i {
            display: block;
            float: left;
            width: 2em;
            height: 1em;
            cursor: pointer;
            margin: 0
        }

        .color1 {
            background-color: #fff
        }

        .color2 {
            background-color: #dfefff
        }

        .color3 {
            background-color: #d3ffdc
        }

        .color4 {
            background-color: #ffdab9
        }

        .color5 {
            background-color: rgba(255, 255, 255, .5)
        }

        .opinionTable {
            position: absolute;
            width: 200px;
            right: 20px;
            top: 50px;
        }

        .m-me:focus {
            box-shadow: 0 0 0 0 #fff;
        }

        .ag-default-theme {
        }

        /* 主题主色调*/
        .ag-main-tintColor {
            background-color: #007bff !important;
            color: #fff;
            padding: 10px 15px;
            font-weight: bold;
            opacity: .9;
            font-size: 1.2rem;
        }

        /* 视图背景色 */
        .ag-view-bgColor {
            background-color: white;
        }

        .closePanel {
            float: right;
            color: #fff;
            vertical-align: middle;
            line-height: 30px;
            cursor: pointer;
            margin-top: 3px;
        }

        #screenshotDiv {
            position: absolute;
            background-color: rgba(0, 0, 0, 0);
            z-index: 501;
            border: 3px solid #007bff;
            display: none;
        }

        #screenshotButton {
            position: absolute;
            /*background-color: rgba(255, 255, 255, 1);*/
            z-index: 501;
            border: 1px solid #cde0ef;
            display: none;
            margin-top: 5px;
            padding: 5px;
            border-radius: 5px;
            background-color: #dff1ff;
        }

        #screenshotButton a {
            font-size: 32px;
            padding: 0 5px;
            display: inline-block;
            font-weight: 700;
            font-family: Microsoft YaHei;
            vertical-align: middle;
            height: 24px;
            line-height: 0.5;
        }

        #screenshotButton a:first-child {
            color: #dc3545;
        }

        #screenshotButton a:not(a:first-child) {
            color: #28a745;
        }

        #screenshotButton span.completed-icon {
            font-family: Microsoft YaHei;
            display: inline-block;
            vertical-align: middle;
            font-size: 20px;
            color: #28a745;
        }

        #screenshotButton span.completed-text {
            font-size: 18px;
            display: inline-block;
            vertical-align: middle;
            color: #28a745;
        }

        #screenshotButton a:link {
            /*color: #000000;*/
            text-decoration: none;
        }

        #screenshotButton a:visited {
            /*color: #000000;*/
            text-decoration: none;
        }

        #screenshotButton a:hover {
            /*color: #000000;*/
            text-decoration: none;
        }

        .leaflet-red-icon {
            background-color: #dc3545;
            border-radius: 50%;
            box-shadow: 1px 1px 0px 0px #c82333;
        }

        .leaflet-green-icon {
            background-color: #28a745;
            border-radius: 50%;
            box-shadow: 1px 1px 0px 0px #218838;
        }

        .glass-open:before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            z-index: 401;
            background: rgba(0, 0, 0, 0.5);
        }

        .sec-screen-border:before {
            content: '';
            width: 1px;
            height: 100%;
            background-color: #999999;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 501;
        }

        #multiMarkerTool ul {
            display: inline-block;
            margin: 1px auto 1px;
            overflow: hidden;
            padding: 0;
        }

        #multiMarkerTool li {
            background-color: rgba(0, 0, 0, .5);
            border-radius: 50%;
            cursor: pointer;
            float: left;
            height: 24px;
            overflow: hidden;
            -webkit-transition: background-color .15s;
            transition: background-color .15s;
            width: 24px;
        }

        .viewer-footer {
            z-index: 1000;
        }

        .color-white {
            background-color: white;
        }

        .color-blue {
            background-color: #dfefff;
        }

        .color-green {
            background-color: #d3ffdc;
        }

        .color-yellow {
            background-color: #ffdab9;
        }

        .color-white, .color-blue, .color-green, .color-yellow {
            height: 20px;
            box-shadow: 1px 1px 5px #ccc;
            margin-bottom: 1px;
        }

        @media (min-width: 992px) {
            .modal-lg {
                max-width: 1190px;
            }
        }

        .review-modal .row .col-12:last-child {
            padding-left: 3em;
        }

        .review-modal .row .col-12:last-child label:last-child {
            margin-left: 2em;
        }

        .hidden {
            display: none !important;
        }
    </style>
    <style>
        #loadingBar {
            position: absolute;
            z-index: 1;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background-color: #409eff;
            border-bottom: 1px solid #409eff;
        }

        #loadingBar .progress {
            position: absolute;
            top: 0;
            left: 0;
            width: 0%;
            height: 100%;
            background-color: #36a3f7;
            overflow: hidden;
            transition: width 200ms;
        }

        @-webkit-keyframes progressIndeterminate {
            0% {
                left: -142px;
            }
            100% {
                left: 0;
            }
        }

        @keyframes progressIndeterminate {
            0% {
                left: -142px;
            }
            100% {
                left: 0;
            }
        }

        #loadingBar .progress.indeterminate {
            background-color: #999;
            transition: none;
        }

        #loadingBar .progress.indeterminate .glimmer {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: calc(100% + 150px);

            background: repeating-linear-gradient(135deg,
            #bbb 0, #999 5px,
            #999 45px, #ddd 55px,
            #ddd 95px, #bbb 100px);

            -webkit-animation: progressIndeterminate 950ms linear infinite;

            animation: progressIndeterminate 950ms linear infinite;
        }

        /*
        * 模态框
        */
        .aside-modal.modal {
            top: auto;
            left: auto;
        }

        .aside-modal.modal .modal-body {
            padding: 0.5rem;
        }

        .aside-modal.modal .form-group {
            margin-bottom: 0;
        }

        .aside-modal .col-9 {
            padding-left: 0;
        }

        .aside-modal .col-9 p {
            margin-bottom: 0.5em;
        }

        .aside-modal .col-9 label {
            margin-bottom: 0;
            margin-top: 10px;
            margin-right: 10px;
        }

        .aside-modal .btn.btn-secondary:hover:not(:disabled) {
            background-color: #36a3f7;
            border-color: #36a3f7 !important;
        }

        .aside-modal .modal-dialog {
            margin: 0.5rem;
        }

        .aside-modal .modal-dialog .col-3 {
            padding-right: 6px;
            padding-lef: 6px;
        }

        .aside-modal.modal .modal-content .modal-footer {
            padding: 0.5em;
            border: none;
            border-top: 1px solid;
            border-top-left-radius: 0;
            border-top-right-radius: 0;
        }

        .drawings_modal .table thead th {
            text-align: center;
            font-weight: 700;
            border-bottom-width: 1px;
        }

        .drawings_modal .table tbody th:first-of-type, .drawings_modal .table tbody tr td:last-of-type {
            text-align: center;
        }

        .drawings_modal .table th, .table td {
            vertical-align: middle;
        }

        .drawings-table__body-warp {
            margin-bottom: 1rem;
        }

        .drawings_modal .table:first-of-type {
            margin-bottom: 0;
        }

        .drawings_modal nav ul {
            margin-bottom: 0;
        }

        .drawings_modal .pagination .page-item {
            width: inherit;
            height: inherit;
            text-align: inherit;
            line-height: inherit;
        }

        .drawings_modal .pagination .page-item:not(.active):not(.disabled) .page-link:not(:hover) {
            color: #007bff;
            border-color: #dee2e6;
        }

        .drawings_modal .page-item:not(.disabled) .page-link:hover {
            background-color: #36a3f7;
            border-color: #36a3f7;
            color: #fff;
        }

        .drawings_modal .page-item.disabled:hover {
            cursor: not-allowed;
        }

        .table th, .table td {
            line-height: inherit;
            padding: 0.75rem;
            border: none;
            border-top: 1px solid #dee2e6;
        }

        .has-gutter tr th:last-of-type {
            padding: 0;
        }

        .drawings_modal label.m-radio.m-radio--solid.m-radio--brand {
            margin-right: 15px;
        }

        .drawings_modal button.btn.btn-link {
            padding: 0.375rem 0.375rem;
        }

        .drawings_modal .btn.btn-outline-primary {
            color: #007bff;
        }

        .modal .modal-content .modal-header, .modal .modal-content .modal-footer {
            padding: 1rem;
        }

        .modal-open .modal.opinion_modal, .modal-open .modal.drawings_modal, .modal-open .modal.review-modal {
            right: auto;
            bottom: auto;
        }

        .fa-2x {
            font-size: 2em !important;
        }

        .fa-lg {
            font-size: 1.33333333em !important;
        }

        .fa-li.fa-lg {
            left: -1.33333333em !important;
        }
    </style>
</HEAD>

<BODY>
<div id="loadingBar" class="hidden" style="width: calc(100% - 17px);">
    <div class="progress" style="height: 100%; width: 100%;">
        <div class="glimmer">
        </div>
    </div>
</div>
<div class="page">
    <div class="content">
        <!--原图-->
        <div id="drawings_viewer">
            <div id="glassDiv"
                 style="position: absolute;height: 406px;width: 406px;right: 5px;top: 10px;border: 3px solid #007bff;z-index:501;overflow:hidden;display:none;">
                <canvas id="glass_canvas" style="width:400px;height: 400px;"></canvas>
            </div>
        </div>
        <canvas id="tem_canvas" class="hidden" style="width:800px;height: 600px;"></canvas>

        <!--对比图-->
        <div id="compare_viewer" style="display:none;" class="sec-screen-border"></div>
        <canvas id="tem_compare_canvas" class="hidden" style="width:800px;height: 600px;"></canvas>

        <!--鼠标位置-->
        <div style="position: absolute;height:40px;width:200px;right: 250px; bottom: 5px; background-color: #0ab5f1;display:none;z-index:10000">
            <label id="info"></label>
        </div>
        <!--截图-->
        <div id="screenshotDiv"></div>
        <div id="screenshotButton">
            <a href="javascript:void(0);" class="screenshot-close-btn">&times;</a>
            <a href="javascript:void(0);" class="screenshot-done-btn"><span
                    class="completed-icon">&radic;</span><span class="completed-text">完成</span></a>
            <canvas id="screenshot_canvas" style="display:none;"></canvas>
        </div>

        <!--页码-->
        <div id="toolbarPageNum" style="display: none;">
            <button id="prePage" class="viewer-before-page viewer-large" onclick="onPrevPage();"></button>
            <b id="pageNum">1</b>/<b id="pageTotal">1</b>
            <button id="nextPage" class="viewer-next-page viewer-large" onclick="onNextPage();"></button>
        </div>
        <!--工具栏-->
        <div id="agToolBar" class="ag-toolbar-list">
            <!--底部-->
            <div class="viewer-toolbar ag-toolbar-item"
                 style="position: fixed;z-index: 1000; left: 50%;right: auto;bottom: 0;transform: translate(-50%);opacity: 0.2;">
                <div class="col-md-12 docs-buttons" data-toggle="toolbar">
                    <div class="btn-group">
                        <button type="button" class="btn btn-primary" data-method="resize" title="缩小居中">
					<span class="docs-tooltip" data-toggle="tooltip" data-animation="false" data-original-title="缩小居中">
						<span class="fa fa-compress"></span>
					</span>
                        </button>
                        <button type="button" class="btn btn-primary" data-method="lock" title="锁定">
					<span class="docs-tooltip" data-toggle="tooltip" data-animation="false" title=""
                          data-original-title="锁定">
						<span class="fa fa-lock"></span>
					</span>
                        </button>
                        <button type="button" class="btn btn-primary" data-method="unlock" title="解锁">
					<span class="docs-tooltip" data-toggle="tooltip" data-animation="false" title=""
                          data-original-title="解锁">
						<span class="fa fa-unlock"></span>
					</span>
                        </button>
                        <button type="button" class="btn btn-primary" data-method="rotateViewer" data-option="-90"
                                title="逆时针旋转90°">
					<span class="docs-tooltip" data-toggle="tooltip" data-animation="false" title=""
                          data-original-title="逆时针旋转90°">
						<span class="fa fa-rotate-left"></span>
					</span>
                        </button>
                        <button type="button" class="btn btn-primary" data-method="rotateViewer" data-option="90"
                                title="顺时针旋转90°">
					<span class="docs-tooltip" data-toggle="tooltip" data-animation="false" title=""
                          data-original-title="顺时针旋转90°">
						<span class="fa fa-rotate-right"></span>
					</span>
                        </button>
                    </div>
                    <div class="btn-group">
                        <button type="button" class="btn btn-primary" data-method="initGlass" title="放大镜">
					<span class="docs-tooltip" data-toggle="tooltip" data-animation="false" title=""
                          data-original-title="放大镜">
						<span class="fa fa-search-plus"></span>
					</span>
                        </button>
                        <button type="button" class="btn btn-primary" data-method="initCells" title="九宫格">
					<span class="docs-tooltip" data-toggle="tooltip" data-animation="false" title=""
                          data-original-title="九宫格">
						<span class="fa fa-th"></span>
					</span>
                        </button>
                        <button type="button" class="btn btn-primary" data-method="screenShot" title="截图">
                    <span class="docs-tooltip" data-toggle="tooltip" data-animation="false" title=""
                          data-original-title="截图">
                      <span class="fa fa-crop"></span>
                    </span>
                        </button>
                    </div>
                </div>
            </div>
            <!--右侧-->
            <div class="compare-toolbar ag-toolbar-item"
                 style="position:fixed;top: 50%;right: 0;z-index: 1000;transform: translateY(-50%);opacity:0.2;">
                <div class="compare-btn-toolbar" data-toggle="toolbar"
                     style="display:  flex;flex-direction:  column;align-items:  flex-end;">
                    <div class="btn-group-vertical" role="group" aria-label="Vertical button group">
                        <button type="button" class="btn btn-primary" data-method="setColor" data-toggle="popover"
                                title="图纸颜色">
					<span class="docs-tooltip" data-toggle="tooltip" data-animation="false" data-placement="left"
                          title="" data-original-title="图纸颜色">
						<span class="fa fa-tachometer"></span>
					</span>
                        </button>
                        <button type="button" class="btn btn-primary" data-method="openCogModel" title="参数设置">
					<span class="docs-tooltip" data-toggle="tooltip" data-animation="false" data-placement="left"
                          title="" data-original-title="参数设置">
						<span class="fa fa-cog"></span>
					</span>
                        </button>
                        <button type="button" class="btn btn-primary" data-method="setLengthMeasure" title="测距离">
					<span class="docs-tooltip" data-toggle="tooltip" data-animation="false" data-placement="left"
                          title="" data-original-title="测距离">
						<span class="fa fa-map-pin"></span>
					</span>
                        </button>
                        <button type="button" class="btn btn-primary" data-method="setAreaMeasure" title="测面积">
					<span class="docs-tooltip" data-toggle="tooltip" data-animation="false" data-placement="left"
                          title="" data-original-title="测面积">
						<span class="fa fa-square"></span>
					</span>
                        </button>
                        <button type="button" class="btn btn-primary" data-method="clearMeasure" title="清除绘制图形，距离线，面积">
					<span class="docs-tooltip" data-toggle="tooltip" data-animation="false" data-placement="left"
                          title="" data-original-title="清除绘制图形，距离线，面积">
						<span class="fa fa-eraser"></span>
					</span>
                        </button>
                        <!--<button type="button" class="btn btn-primary" data-method="addOptionMarker" title="添加标记">-->
                        <!--<span class="docs-tooltip" data-toggle="tooltip" data-animation="false" data-placement="left"-->
                        <!--title="" data-original-title="添加标记">-->
                        <!--<span class="fa fa-map-marker"></span>-->
                        <!--</span>-->
                        <!--</button>-->
                        <!--<button type="button" class="btn btn-primary" data-method="openOpinions" title="意见列表">-->
                        <!--<span class="docs-tooltip" data-toggle="tooltip" data-animation="false" data-placement="left"-->
                        <!--title="" data-original-title="意见列表">-->
                        <!--<span class="fa fa-list-alt"></span>-->
                        <!--</span>-->
                        <!--</button>-->
                        <!--<button type="button" class="btn btn-primary" data-method="openDrawings" title="图纸列表">-->
                        <!--<span class="docs-tooltip" data-toggle="tooltip" data-animation="false" data-placement="left"-->
                        <!--title="" data-original-title="图纸列表">-->
                        <!--<span class="fa fa-list-alt"></span>-->
                        <!--</span>-->
                        <!--</button>-->
                        <button type="button" class="btn btn-primary" data-method="openFile">
					<span class="docs-tooltip" data-toggle="tooltip" data-animation="false" title=""
                          data-original-title="原图纸">
						<span class="fa fa-folder-open"></span>
					</span>
                        </button>
                        <button type="button" class="btn btn-primary" data-method="openOtherFile">
					<span class="docs-tooltip" data-toggle="tooltip" data-animation="false" title=""
                          data-original-title="添加对比">
					<span class="fa fa-plus-square"></span>
					</span>
                        </button>
                        <button type="button" class="btn btn-primary" data-method="compare" data-option="">
					<span class="docs-tooltip" data-toggle="tooltip" data-animation="false" title=""
                          data-original-title="比对">
						<span class="fa fa-check-square"></span>
					</span>
                        </button>
                    </div>
                </div>
            </div>
            <!--左侧-->
            <div class="review-toolbar ag-toolbar-item"
                 style="position:fixed;top: 50%;letf: 0;z-index: 1000;transform: translateY(-50%);opacity:0.2;">
                <div class="review-btn-toolbar" data-toggle="toolbar"
                     style="display:  flex;flex-direction:  column;align-items:  flex-end;">
                    <div class="btn-group-vertical" role="group" aria-label="Vertical button group">
                        <button type="button" class="btn btn-primary" data-method="OpenReviewModel" title="审查图纸">
					<span class="docs-tooltip" data-toggle="tooltip" data-animation="false" data-placement="left"
                          title="" data-original-title="审查图纸">
						<span class="fa fa-gavel"></span>
					</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <!--标记工具栏-->
        <div id="multiMarkerTool"
             style="position: absolute;height: 30px;width:300px;left: 49%;bottom: 32px;text-align: center;vertical-align:center; background-color: #0ab5f1; z-index: 10000;border: 1px solid #0ab5f1;display:none;">
            <ul>
                <li role="button" class="viewer-rotate-left viewer-large" style="margin:1px 5px"
                    onclick="multiFunctionMarker.createTextMarker();" title="绘制引线标注"></li>
                <li role="button" class="viewer-rotate-left viewer-large" style="margin:1px 5px"
                    onclick="multiFunctionMarker.createCircle();" title="绘制圆标记"></li>
                <li role="button" class="viewer-rotate-left viewer-large" style="margin:1px 5px"
                    onclick="multiFunctionMarker.createEllipse();" title="绘制椭圆标记"></li>
                <li role="button" class="viewer-rotate-left viewer-large" style="margin:1px 5px"
                    onclick="multiFunctionMarker.createRectangle();" title="绘制矩形标记"></li>
                <li role="button" class="viewer-rotate-left viewer-large" style="margin:1px 5px"
                    onclick="multiFunctionMarker.clearMultiMarkers();" title="清除绘制标记"></li>
            </ul>
        </div>

        <!--各类模态框-->
        <!--参数设置-->
        <div id="check_params_config_modal" class="modal" tabindex="-1" role="dialog" data-backdrop="false">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="view_drawings_compare_modal_modal_title">参数设置</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                                style="line-height:1;padding:1rem;">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form id="config_form">
                            <h5 class="text-secondary font-weight-bold">基本参数</h5>
                            <div class="form-group  row">
                                <label class="col-3 col-form-label text-muted">
                                    浏览模式
                                </label>
                                <div class="col-9">
                                    <label class="m-radio m-radio--solid m-radio--brand" style="margin-top:7px">
                                        <input type="radio" name="speed" value="0.8">快 速
                                        <span></span>
                                    </label>&nbsp;
                                    <label class="m-radio m-radio--solid m-radio--brand" style="margin-top:7px">
                                        <input type="radio" name="speed" value="2" checked="checked">普 通
                                        <span></span>
                                    </label>&nbsp;
                                    <label class="m-radio m-radio--solid m-radio--brand" style="margin-top:7px">
                                        <input type="radio" name="speed" value="3">高 清
                                        <span></span>
                                    </label>
                                </div>
                            </div>
                            <div class="form-group  row" id="drawScale" style="">
                                <label class="col-3 col-form-label text-muted">
                                    图纸比例尺
                                </label>
                                <div class="col-9">
                                    <div class="input-group">
                                        <input type="text" id="drawingScale" name="scale" class="form-control moreCode"
                                               placeholder="比例尺">
                                        <div class="invalid-feedback">比例不能为空</div>
                                    </div>
                                </div>
                            </div>
                            <hr>
                            <h5 class="text-secondary font-weight-bold">比对参数</h5>
                            <div class="form-group  row">
                                <label class="col-3 col-form-label text-muted">
                                    要素间距
                                </label>
                                <div class="col-9">
                                    <div class="input-group">
                                        <input type="tel" id="featureDistance" name="between" maxlength="3"
                                               class="form-control moreCode" placeholder="要素的标记间距">
                                        <div class="input-group-append">
                                            <span class="input-group-text">像素</span>
                                        </div>
                                        <div class="invalid-feedback">间距不能为空</div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group  row" id="projCodeInfo" style="">
                                <label class="col-3 col-form-label text-muted">
                                    标记最大数量
                                </label>
                                <div class="col-9">
                                    <div class="input-group">
                                        <input type="tel" id="markCount" name="marker" maxlength="3"
                                               class="form-control moreCode" placeholder="查找到需要标记的最多节点数量">
                                        <div class="input-group-append">
                                            <span class="input-group-text">&nbsp;&nbsp;个&nbsp;</span>
                                        </div>
                                        <div class="invalid-feedback">数量不能为空</div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer" style="justify-content: center;">
                        <button type="button" class="btn btn-primary">确认</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal"
                                style="color: #fff;background-color: #6c757d;border-color: #6c757d;">取消
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <!--审查图纸-->
        <div id="review_modal" class="modal review-modal" tabindex="-1" role="dialog" data-backdrop="false">
            <div class="modal-dialog modal-dialog-centered modal-lg" role="document" style="min-width:800px;">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">审查图纸</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                                style="line-height:1;padding:1rem;">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form id="review_form">
                            <h5 class="text-secondary font-weight-bold">基本要求</h5>
                            <hr>
                            <div class="form-group  row">
                                <div class="col-11 offset-1">
                                    <div class="row">
                                        <div class="col-12">
                                            <p>1.1 总平面图,是否标示建设用地范围，道路及建筑红线位置，用地及四邻有关地形，地物，周边市政道路的控制标高</p>
                                        </div>
                                        <div class="w-100"></div>
                                        <div class="col-12">
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" selectcase="1" name="s111" value="1">是
                                                <span></span>
                                            </label>&nbsp;
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" selectcase="2" name="s111" value="2"
                                                       checked="checked">否
                                                <span></span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12">
                                            <p>1.2 总平面图,是否明确新建工程（包括隐蔽工程）的位置及室内外设计标高、场地道路、广场、停车位布置及地面雨水排除方向</p>
                                        </div>
                                        <div class="w-100"></div>
                                        <div class="col-12">
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" selectcase="1" name="s112" value="1">是
                                                <span></span>
                                            </label>&nbsp;
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" selectcase="2" name="s112" value="2"
                                                       checked="checked">否
                                                <span></span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group  row">
                                <div class="col-11 offset-1">
                                    <div class="row">
                                        <div class="col-12">
                                            <p>2.1 平、立、剖面图纸是否完整，表达准确 </p>
                                            <footer class="blockquote-footer"
                                                    style="text-indent: 2em;margin-bottom: 10px;">
                                                (屋顶平面应包含下述内容：屋面检修口、管沟、设备基座及变形缝构造；屋面排水设计、落水口构造及雨水管选型等)
                                            </footer>
                                        </div>
                                        <div class="w-100"></div>
                                        <div class="col-12">
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" selectcase="1" name="s121" value="1">是
                                                <span></span>
                                            </label>&nbsp;
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" selectcase="2" name="s121" value="2"
                                                       checked="checked">否
                                                <span></span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group  row">
                                <div class="col-11 offset-1">
                                    <div class="row">
                                        <div class="col-12">
                                            <p>3.1 关键部位的节点、大样是否有遗漏，如楼梯、电梯、汽车坡道、墙身、门窗等 </p>
                                        </div>
                                        <div class="w-100"></div>
                                        <div class="col-12">
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" selectcase="1" name="s131" value="1">是
                                                <span></span>
                                            </label>&nbsp;
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" selectcase="2" name="s131" value="2"
                                                       checked="checked">否
                                                <span></span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12">
                                            <p>3.2 图中楼梯、上人屋面、中庭回廊、低窗等安全防护设施是否交待清楚</p>
                                        </div>
                                        <div class="w-100"></div>
                                        <div class="col-12">
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" selectcase="1" name="s132" value="1">是
                                                <span></span>
                                            </label>&nbsp;
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" selectcase="2" name="s132" value="2"
                                                       checked="checked">否
                                                <span></span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group  row">
                                <div class="col-11 offset-1">
                                    <div class="row">
                                        <div class="col-12">
                                            <p>4.1 建筑物中留待专业设计完善的变配电室、锅炉间、热交换间、中水处理间及餐饮厨房等，能否提供合理组织流程的条件和必要的辅助设施 </p>
                                        </div>
                                        <div class="w-100"></div>
                                        <div class="col-12">
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="s141" value="1">是
                                                <span></span>
                                            </label>&nbsp;
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="s141" value="2" checked="checked">否
                                                <span></span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <h5 class="text-secondary font-weight-bold">无障碍设计</h5>
                            <hr>
                            <div class="form-group  row">
                                <div class="col-11 offset-1">
                                    <div class="row">
                                        <div class="col-12">
                                            <p>1.1 成片开发建设的低层、多层居住区，宿舍区宜考虑无障碍住房套型</p>
                                        </div>
                                        <div class="w-100"></div>
                                        <div class="col-12">
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="s211" value="1">是
                                                <span></span>
                                            </label>&nbsp;
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="s211" value="2" checked="checked">否
                                                <span></span>
                                            </label>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-12">
                                            <p>1.2 室内外高差较大的建筑是否采用无台阶入口，如入口仅设坡道，坡道坡度应符合最大限值的规定</p>
                                        </div>
                                        <div class="w-100"></div>
                                        <div class="col-12">
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="s212" value="1">是
                                                <span></span>
                                            </label>&nbsp;
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="s212" value="2" checked="checked">否
                                                <span></span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12">
                                            <p>1.3 从三级起台阶应设扶手</p>
                                        </div>
                                        <div class="w-100"></div>
                                        <div class="col-12">
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="s213" value="1">是
                                                <span></span>
                                            </label>&nbsp;
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="s213" value="2" checked="checked">否
                                                <span></span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <h5 class="text-secondary font-weight-bold">建筑抗震</h5>
                            <hr>
                            <div class="form-group  row">
                                <div class="col-11 offset-1">
                                    <div class="row">
                                        <div class="col-12">
                                            <p>1.1 是否正确使用岩土工程勘察报告所提供的岩土参数</p>
                                        </div>
                                        <div class="w-100"></div>
                                        <div class="col-12">
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" selectcase="1" name="s311" value="1">是
                                                <span></span>
                                            </label>&nbsp;
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" selectcase="2" name="s311" value="2"
                                                       checked="checked">否
                                                <span></span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12">
                                            <p>1.2 是否正确采用岩土工程勘察报告对基础形式、地基处理、防腐蚀措施（地下水有腐蚀性时）等提出的建议并采取了相应措施</p>
                                        </div>
                                        <div class="w-100"></div>
                                        <div class="col-12">
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" selectcase="1" name="s312" value="1">是
                                                <span></span>
                                            </label>&nbsp;
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" selectcase="2" name="s312" value="2"
                                                       checked="checked">否
                                                <span></span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <h5 class="text-secondary font-weight-bold">计算完整性</h5>
                            <hr>
                            <div class="form-group  row">
                                <div class="col-11 offset-1">
                                    <div class="row">
                                        <div class="col-12">
                                            <p>1.1
                                                结构设计计算书应包括输入的结构总体计算总信息、周期、振型、地震作用、位移、结构平面简图、荷载平面简图、配筋平面简图；地基计算；基础计算；人防计算；挡土墙计算；水池计算；楼梯计算等</p>
                                        </div>
                                        <div class="w-100"></div>
                                        <div class="col-12">
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" selectcase="1" name="s411" value="1">是
                                                <span></span>
                                            </label>&nbsp;
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" selectcase="2" name="s411" value="2"
                                                       checked="checked">否
                                                <span></span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <h5 class="text-secondary font-weight-bold">计算分析</h5>
                            <hr>
                            <div class="form-group  row">
                                <div class="col-11 offset-1">
                                    <div class="row">
                                        <div class="col-12">
                                            <p>1.1 计算模型的建立，必要的简化计算与处理，是否符合工程的实际情况</p>
                                        </div>
                                        <div class="w-100"></div>
                                        <div class="col-12">
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" selectcase="1" name="s511" value="1">是
                                                <span></span>
                                            </label>&nbsp;
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" selectcase="2" name="s511" value="2"
                                                       checked="checked">否
                                                <span></span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12">
                                            <p>1.2 所采用软件的计算假定和力学模型，是否符合工程实际</p>
                                        </div>
                                        <div class="w-100"></div>
                                        <div class="col-12">
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" selectcase="1" name="s512" value="1">是
                                                <span></span>
                                            </label>&nbsp;
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" selectcase="2" name="s512" value="2"
                                                       checked="checked">否
                                                <span></span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12">
                                            <p>1.3 复杂结构进行多遇地震作用下的内力和变形分析时，是否采用了不少于两个不同的力学模型的软件进行计算，并对其计算结果进行分析比较</p>
                                        </div>
                                        <div class="w-100"></div>
                                        <div class="col-12">
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" selectcase="1" name="s513" value="1">是
                                                <span></span>
                                            </label>&nbsp;
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" selectcase="2" name="s513" value="2"
                                                       checked="checked">否
                                                <span></span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12">
                                            <p>1.4 所有计算机计算结果，应经分析判断确认其合理、有效后方可用于工程设计</p>
                                        </div>
                                        <div class="w-100"></div>
                                        <div class="col-12">
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" selectcase="1" name="s514" value="1">是
                                                <span></span>
                                            </label>&nbsp;
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" selectcase="2" name="s514" value="2"
                                                       checked="checked">否
                                                <span></span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer" style="justify-content: center;">
                        <button type="button" class="btn btn-primary">确认</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal"
                                style="color: #fff;background-color: #6c757d;border-color: #6c757d;">取消
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <!--对比模式-->
        <div id="aside_modal" class="modal aside-modal" tabindex="-1" role="dialog" data-backdrop="false">
            <div class="modal-dialog modal-sm" role="document" style="min-width: 420px;transform: scale(0.9);">
                <div class="modal-content">
                    <div class="modal-body">
                        <form id="aside_form">
                            <!--<div class="form-group  row">-->
                            <!--<label class="col-3 col-form-label text-muted text-right">-->
                            <!--对比模式:-->
                            <!--</label>-->
                            <!--<div class="col-9">-->
                            <!--<label class="m-radio m-radio&#45;&#45;solid m-radio&#45;&#45;brand">-->
                            <!--<input type="radio" name="cmodal" value="并排联动" checked="checked">并排联动-->
                            <!--<span></span>-->
                            <!--</label>-->
                            <!--<label class="m-radio m-radio&#45;&#45;solid m-radio&#45;&#45;brand">-->
                            <!--<input type="radio" name="cmodal" value="并排追加">并排追加-->
                            <!--<span></span>-->
                            <!--</label>-->
                            <!--<label class="m-radio m-radio&#45;&#45;solid m-radio&#45;&#45;brand">-->
                            <!--<input type="radio" name="cmodal" value="层叠模式">层叠模式-->
                            <!--<span></span>-->
                            <!--</label>-->
                            <!--</div>-->
                            <!--</div>-->
                            <div class="form-group  row">
                                <label class="col-3 col-form-label text-muted text-right">
                                    差异模式:
                                </label>
                                <div class="col-9 ag-radio-dsp">
                                    <label class="m-radio m-radio--solid m-radio--brand">
                                        <input type="radio" name="dspmodal" value="spot">差异点
                                        <span></span>
                                    </label>
                                    <label class="m-radio m-radio--solid m-radio--brand">
                                        <input type="radio" name="dspmodal" value="line">轮廓线
                                        <span></span>
                                    </label>
                                    <label class="m-radio m-radio--solid m-radio--brand">
                                        <input type="radio" name="dspmodal" value="clear" checked="checked">隐藏标识
                                        <span></span>
                                    </label>
                                </div>
                            </div>
                            <div class="form-group  row">
                                <label class="col-3 col-form-label text-muted text-right">
                                    图纸查看:
                                </label>
                                <div class="col-9 ag-checkbox-dsp">
                                    <label class="m-checkbox m-checkbox--solid m-checkbox--brand">
                                        <input type="checkbox" name="original" value="0" checked="checked">原图
                                        <span></span>
                                    </label>
                                    <label class="m-checkbox m-checkbox--solid m-checkbox--brand">
                                        <input type="checkbox" name="compare" value="1" checked="checked">对比图
                                        <span></span>
                                    </label>
                                </div>
                            </div>
                            <div class="form-group  row">
                                <label class="col-3 col-form-label text-muted text-right">
                                    文件名:
                                </label>
                                <div class="col-9 ag-filename-dsp">
                                    <p>c477031a-c384-4598-9e94-8213e5fa72b9</p>
                                    <p>a152011a-c914-1898-9q34-8sd384fa73n5</p>
                                </div>
                            </div>
                            <div class="form-group  row">
                                <label class="col-3 col-form-label text-muted text-right">
                                    新增的内容:
                                </label>
                                <div class="col-9">
                                    <span class="badge badge-success mr-2 ag-num-dsp">0</span>
                                    <nav class="d-inline-block">
                                        <ul class="pagination pagination-sm" style="margin-bottom: 0">
                                            <li class="page-item disabled">
                                                <a class="page-link page-btn ag-prev" href="#" aria-label="Previous">
                                                    <span aria-hidden="true">&laquo;</span>
                                                </a>
                                            </li>
                                            <li class="page-item">
                                                <a class="page-link page-btn ag-next" href="#" aria-label="Next">
                                                    <span aria-hidden="true">&raquo;</span>
                                                </a>
                                            </li>
                                        </ul>
                                    </nav>
                                </div>
                            </div>
                            <div class="form-group  row">
                                <label class="col-3 col-form-label text-muted text-right">
                                    删除的内容:

                                </label>
                                <div class="col-9">
                                    <span class="badge  badge-danger mr-2 ag-num-dsp">0</span>
                                    <nav class="d-inline-block">
                                        <ul class="pagination pagination-sm" style="margin-bottom: 0">
                                            <li class="page-item disabled">
                                                <a class="page-link page-btn ag-prev" href="#" aria-label="Previous">
                                                    <span aria-hidden="true">&laquo;</span>
                                                </a>
                                            </li>
                                            <li class="page-item">
                                                <a class="page-link page-btn ag-next" href="#" aria-label="Next">
                                                    <span aria-hidden="true">&raquo;</span>
                                                </a>
                                            </li>
                                        </ul>
                                    </nav>
                                </div>
                            </div>
                            <div class="row d-none">
                                <label class="col-3 col-form-label text-muted text-right">
                                    说明：
                                </label>
                                <div class="col-9 align-self-center">
                                    <span class="badge badge-success mr-2">新增的内容</span>
                                    <span class="badge badge-danger">删除的内容</span>
                                </div>
                            </div>
                        </form>
                    </div>
                    <button type="button" class="btn btn-secondary btn-sm modal-footer justify-content-center"
                            data-dismiss="modal">关闭
                    </button>
                </div>
            </div>
        </div>
        <!--参考图纸-->
        <div id="drawings_modal" class="modal drawings_modal" tabindex="-1" role="dialog" data-backdrop="false">
            <div class="modal-dialog modal-dialog-centered" role="document"
                 style="max-width:700px;max-height:450px; margin: 25px;">
                <div class="modal-content">
                    <div class="modal-header" style="padding: 1rem;">
                        <h5 class="modal-title">参考图纸</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                                style="line-height:1;padding:1rem;">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body" style="padding: 1rem;">
                        <form id="drawings_form">
                            <div class="form-group  row">
                                <!--<label class="col-3 col-form-label text-muted">-->
                                <!--浏览模式-->
                                <!--</label>-->
                                <div id="drawingProfession" class="col-12">
                                    <!--<label class="m-radio m-radio--solid m-radio--brand">-->
                                    <!--<input type="radio" name="category" value="1" checked="checked">勘察-->
                                    <!--<span></span>-->
                                    <!--</label>-->
                                    <!--<label class="m-radio m-radio--solid m-radio--brand">-->
                                    <!--<input type="radio" name="category" value="2">建筑-->
                                    <!--<span></span>-->
                                    <!--</label>-->
                                    <!--<label class="m-radio m-radio--solid m-radio--brand">-->
                                    <!--<input type="radio" name="category" value="3">结构-->
                                    <!--<span></span>-->
                                    <!--</label>-->
                                    <!--<label class="m-radio m-radio--solid m-radio--brand">-->
                                    <!--<input type="radio" name="category" value="4">给排水-->
                                    <!--<span></span>-->
                                    <!--</label>-->
                                    <!--<label class="m-radio m-radio--solid m-radio--brand">-->
                                    <!--<input type="radio" name="category" value="5">电气-->
                                    <!--<span></span>-->
                                    <!--</label>-->
                                    <!--<label class="m-radio m-radio--solid m-radio--brand">-->
                                    <!--<input type="radio" name="category" value="6">暖通-->
                                    <!--<span></span>-->
                                    <!--</label>-->
                                    <!--<label class="m-radio m-radio--solid m-radio--brand">-->
                                    <!--<input type="radio" name="category" value="99">其他-->
                                    <!--<span></span>-->
                                    <!--</label>-->
                                </div>
                            </div>
                        </form>
                        <div class="drawings-table">
                            <div class="drawings-table__body-warp"
                                 style="height:290px;overflow-y: auto;border-bottom: 1px solid #dee2e6; ">
                                <table id="drawingListTable" class="table table-sm"></table>
                            </div>
                            <!--<div class="drawings-table__header-warp">-->
                            <!--<table class="table table-sm ">-->
                            <!--<colgroup>-->
                            <!--<col name="checkbox" width="36">-->
                            <!--<col name="no" width="56">-->
                            <!--<col name="project" width="">-->
                            <!--<col name="options" width="280">-->
                            <!--<col name="gutter" width="17">-->
                            <!--</colgroup>-->
                            <!--<thead class="thead-light has-gutter">-->
                            <!--<tr>-->
                            <!--<th scope="col">-->
                            <!--<div class="cell"></div>-->
                            <!--</th>-->
                            <!--<th scope="col">-->
                            <!--<div class="cell">序号</div>-->
                            <!--</th>-->
                            <!--<th scope="col">-->
                            <!--<div class="cell">项目名称</div>-->
                            <!--</th>-->
                            <!--<th scope="col">-->
                            <!--<div class="cell">操作</div>-->
                            <!--</th>-->
                            <!--<th scope="col">-->
                            <!--<div class="gutter" style="width: 17px"></div>-->
                            <!--</th>-->
                            <!--</tr>-->
                            <!--</thead>-->
                            <!--</table>-->
                            <!--</div>-->
                            <!--<div class="drawings-table__body-warp"-->
                            <!--style="height:200px;overflow-y: auto;border-bottom: 1px solid #dee2e6; ">-->
                            <!--<table id="drawingListTable" class="table table-sm">-->
                            <!--<colgroup>-->
                            <!--<col name="checkbox" width="36">-->
                            <!--<col name="no" width="56">-->
                            <!--<col name="project" width="">-->
                            <!--<col name="options" width="280">-->
                            <!--</colgroup>-->
                            <!--<tbody>-->
                            <!--<tr>-->
                            <!--<th scope="row">-->
                            <!--<div class="cell">-->
                            <!--<label class="m-checkbox m-checkbox--solid m-checkbox--brand" style="margin: 0;">-->
                            <!--<input type="checkbox" name="item" value="" checked="checked"><span></span>&nbsp;-->
                            <!--</label>-->
                            <!--</div>-->
                            <!--</th>-->
                            <!--<td>1</td>-->
                            <!--<td>-->
                            <!--<div class="cell">南沙2017NJY-5地块项目</div>-->
                            <!--</td>-->
                            <!--<td>-->
                            <!--<div class="cell">-->
                            <!--<div class="btn-group " role="group">-->
                            <!--<button type="button" class="btn btn-link">置为当前</button>-->
                            <!--<button type="button" class="btn btn-link">定位图纸</button>-->
                            <!--<button type="button" class="btn btn-link  text-success">新页面打开</button>-->
                            <!--</div>-->
                            <!--</div>-->
                            <!--</td>-->
                            <!--</tr>-->
                            <!--<tr>-->
                            <!--<th scope="row">-->
                            <!--<div class="cell">-->
                            <!--<label class="m-checkbox m-checkbox--solid m-checkbox--brand" style="margin: 0;">-->
                            <!--<input type="checkbox" name="item" value="" ><span></span>&nbsp;-->
                            <!--</label>-->
                            <!--</div>-->
                            <!--</th>-->
                            <!--<td>2</td>-->
                            <!--<td>-->
                            <!--<div class="cell">南沙2017NJY-5地块项目</div>-->
                            <!--</td>-->
                            <!--<td>-->
                            <!--<div class="cell">-->
                            <!--<div class="btn-group " role="group">-->
                            <!--<button type="button" class="btn btn-link">置为当前</button>-->
                            <!--<button type="button" class="btn btn-link">定位图纸</button>-->
                            <!--<button type="button" class="btn btn-link  text-success">新页面打开</button>-->
                            <!--</div>-->
                            <!--</div>-->
                            <!--</td>-->
                            <!--</tr>-->
                            <!--<tr>-->
                            <!--<th scope="row">-->
                            <!--<div class="cell">-->
                            <!--<label class="m-checkbox m-checkbox--solid m-checkbox--brand" style="margin: 0;">-->
                            <!--<input type="checkbox" name="item" value="" ><span></span>&nbsp;-->
                            <!--</label>-->
                            <!--</div>-->
                            <!--</th>-->
                            <!--<td>3</td>-->
                            <!--<td>-->
                            <!--<div class="cell">南沙2017NJY-5地块项目</div>-->
                            <!--</td>-->
                            <!--<td>-->
                            <!--<div class="cell">-->
                            <!--<div class="btn-group " role="group">-->
                            <!--<button type="button" class="btn btn-link">置为当前</button>-->
                            <!--<button type="button" class="btn btn-link">定位图纸</button>-->
                            <!--<button type="button" class="btn btn-link  text-success">新页面打开</button>-->
                            <!--</div>-->
                            <!--</div>-->
                            <!--</td>-->
                            <!--</tr>-->
                            <!--<tr>-->
                            <!--<th scope="row">-->
                            <!--<div class="cell">-->
                            <!--<label class="m-checkbox m-checkbox--solid m-checkbox--brand" style="margin: 0;">-->
                            <!--<input type="checkbox" name="item" value="" ><span></span>&nbsp;-->
                            <!--</label>-->
                            <!--</div>-->
                            <!--</th>-->
                            <!--<td>4</td>-->
                            <!--<td>-->
                            <!--<div class="cell">南沙2017NJY-5地块项目</div>-->
                            <!--</td>-->
                            <!--<td>-->
                            <!--<div class="cell">-->
                            <!--<div class="btn-group " role="group">-->
                            <!--<button type="button" class="btn btn-link">置为当前</button>-->
                            <!--<button type="button" class="btn btn-link">定位图纸</button>-->
                            <!--<button type="button" class="btn btn-link  text-success">新页面打开</button>-->
                            <!--</div>-->
                            <!--</div>-->
                            <!--</td>-->
                            <!--</tr>-->
                            <!--<tr>-->
                            <!--<th scope="row">-->
                            <!--<div class="cell">-->
                            <!--<label class="m-checkbox m-checkbox--solid m-checkbox--brand" style="margin: 0;">-->
                            <!--<input type="checkbox" name="item" value="" ><span></span>&nbsp;-->
                            <!--</label>-->
                            <!--</div>-->
                            <!--</th>-->
                            <!--<td>5</td>-->
                            <!--<td>-->
                            <!--<div class="cell">南沙2017NJY-5地块项目</div>-->
                            <!--</td>-->
                            <!--<td>-->
                            <!--<div class="cell">-->
                            <!--<div class="btn-group " role="group">-->
                            <!--<button type="button" class="btn btn-link">置为当前</button>-->
                            <!--<button type="button" class="btn btn-link">定位图纸</button>-->
                            <!--<button type="button" class="btn btn-link  text-success">新页面打开</button>-->
                            <!--</div>-->
                            <!--</div>-->
                            <!--</td>-->
                            <!--</tr>-->
                            <!--<tr>-->
                            <!--<th scope="row">-->
                            <!--<div class="cell">-->
                            <!--<label class="m-checkbox m-checkbox--solid m-checkbox--brand" style="margin: 0;">-->
                            <!--<input type="checkbox" name="item" value="" ><span></span>&nbsp;-->
                            <!--</label>-->
                            <!--</div>-->
                            <!--</th>-->
                            <!--<td>6</td>-->
                            <!--<td>-->
                            <!--<div class="cell">南沙2017NJY-5地块项目</div>-->
                            <!--</td>-->
                            <!--<td>-->
                            <!--<div class="cell">-->
                            <!--<div class="btn-group " role="group">-->
                            <!--<button type="button" class="btn btn-link">置为当前</button>-->
                            <!--<button type="button" class="btn btn-link">定位图纸</button>-->
                            <!--<button type="button" class="btn btn-link  text-success">新页面打开</button>-->
                            <!--</div>-->
                            <!--</div>-->
                            <!--</td>-->
                            <!--</tr>-->
                            <!--</tbody>-->

                            <!--</table>-->
                            <!--</div>-->
                            <!--<div class="drawings-table__footer-warp">-->
                            <!--<nav>-->
                            <!--<ul class="pagination justify-content-end">-->
                            <!--<li class="page-item disabled">-->
                            <!--<a class="page-link" href="#" tabindex="-1">上一页</a>-->
                            <!--</li>-->
                            <!--<li class="page-item active"><a class="page-link " href="#">1</a></li>-->
                            <!--<li class="page-item"><a class="page-link" href="#">2</a></li>-->
                            <!--<li class="page-item"><a class="page-link" href="#">3</a></li>-->
                            <!--<li class="page-item">-->
                            <!--<a class="page-link" href="#">下一页</a>-->
                            <!--</li>-->
                            <!--</ul>-->
                            <!--</nav>-->
                            <!--</div>-->
                        </div>
                    </div>
                    <div class="modal-footer" style="justify-content: center;padding:1rem;">
                        <button type="button" class="btn btn-outline-primary">全部加载</button>
                        <button type="button" class="btn btn-outline-primary">关闭所有</button>
                        <button type="button" class="btn btn-outline-primary">其他项目</button>
                        <button type="button" class="btn btn-outline-primary">比对</button>
                    </div>
                </div>
            </div>
        </div>
        <!--意见列表-->
        <div id="opinion_modal" class="modal opinion_modal" tabindex="-1" role="dialog" data-backdrop="false">
            <div class="modal-dialog modal-dialog-centered" role="document" style="margin: 25px;">
                <div class="modal-content">
                    <div class="modal-header" style="padding: 1rem;">
                        <h5 class="modal-title">意见列表</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                                style="line-height:1;padding:1rem;">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body" style="padding: 1rem;">
                        <form id="opinion_form">
                            <div class="form-group row">
                                <div class="col-12">
                                    <select id="opinionTypeSelect" class="form-control m-input" style="width: 100%;">
                                    </select>
                                </div>
                            </div>
                        </form>
                        <div class="drawings-table">
                            <div class="drawings-table__header-warp">
                                <table class="table table-sm ">
                                    <colgroup>
                                        <col name="no" width="56">
                                        <col name="opinion" width="">
                                        <col name="options" width="56">
                                        <col name="gutter" width="17">
                                    </colgroup>
                                    <thead class="thead-light has-gutter">
                                    <tr>
                                        <th scope="col">
                                            <div class="cell">#</div>
                                        </th>
                                        <th scope="col">
                                            <div class="cell">意见</div>
                                        </th>
                                        <th scope="col">
                                            <div class="cell">操作</div>
                                        </th>
                                        <th scope="col">
                                            <div class="gutter" style="width: 17px"></div>
                                        </th>
                                    </tr>
                                    </thead>
                                </table>
                            </div>
                            <div class="drawings-table__body-warp" id="opinionListDiv"
                                 style="height:200px;overflow-y: auto;border-bottom: 1px solid #dee2e6; ">
                                <table class="table table-sm">
                                    <colgroup>
                                        <col name="no" width="56">
                                        <col name="opinion" width="">
                                        <col name="options" width="56">
                                    </colgroup>
                                    <tbody id="opinionList">
                                    </tbody>
                                </table>
                            </div>
                            <div class="drawings-table__footer-warp">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="setMarkerStyle" class="modal" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-dialog-centered" role="document" style="max-width: 830px">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="view_drawings_compare_modal_modal_title">标记样式设置</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                                style="line-height:1;padding:1rem;">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form id="opinion_config_form">
                            <div class="row">
                                <div class="col">
                                    <h5 class="text-secondary font-weight-bold">折线样式</h5>
                                    <div id="polyline" class="div_layer" role="tabpanel">
                                        <div class="form-group  row">
                                            <label class="col-3 col-form-label text-muted">
                                                折线头部
                                            </label>
                                            <div class="col-9">
                                                <label class="m-radio m-radio--solid m-radio--brand"
                                                       style="margin-top:7px">
                                                    <input type="radio" name="lineHead" value="0"
                                                           checked="checked">箭头
                                                    <span></span>
                                                </label>&nbsp;
                                                <label class="m-radio m-radio--solid m-radio--brand"
                                                       style="margin-top:7px">
                                                    <input type="radio" name="lineHead" value="1">圆头
                                                    <span></span>
                                                </label>&nbsp;
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-3 col-form-label text-muted">
                                                线颜色
                                            </label>
                                            <div class="col-9">
                                                <div class="input-group">
                                                    <input type="text" id="lineColor" name="lineColor"
                                                           class="form-control m-input m-me opinion-color"
                                                           style="height:auto">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-3 col-form-label text-muted">
                                                线宽度
                                            </label>
                                            <div class="col-9">
                                                <div class="input-group">
                                                    <input type="text" id="lineWeight" name="lineWeight"
                                                           class="form-control m-input m-me m-weight">
                                                    <div class="input-group-append">
                                                        <span class="input-group-text">像素</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-3 col-form-label text-muted">
                                                文本尺寸
                                            </label>
                                            <div class="col-9">
                                                <div class="input-group">
                                                    <input type="text" id="textSize" name="textSize"
                                                           class="form-control m-input m-me">
                                                    <div class="input-group-append">
                                                        <span class="input-group-text">像素</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col">
                                    <h5 class="text-secondary font-weight-bold">圆形样式</h5>
                                    <div id="circle" class="div_layer" role="tabpanel">
                                        <div class="form-group row">
                                            <label class="col-3 col-form-label text-muted">
                                                边框颜色
                                            </label>
                                            <div class="col-9">
                                                <div class="input-group">
                                                    <input type="text" id="circleColor" name="circleColor"
                                                           class="form-control m-input m-me opinion-color"
                                                           style="height:auto">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-3 col-form-label text-muted">
                                                边框宽度
                                            </label>
                                            <div class="col-9">
                                                <div class="input-group">
                                                    <input type="text" id="circleWeight" name="circleWeight"
                                                           class="form-control m-input m-me m-weight">
                                                    <div class="input-group-append">
                                                        <span class="input-group-text">像素</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-3 col-form-label text-muted">
                                                填充颜色
                                            </label>
                                            <div class="col-9">
                                                <div class="input-group">
                                                    <input type="text" id="circleFillColor" name="circleFillColor"
                                                           class="form-control m-input m-me opinion-color"
                                                           style="height:auto">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-3 col-form-label text-muted">
                                                填充透明度
                                            </label>
                                            <div class="col-9">
                                                <div class="input-group">
                                                    <input type="text" id="circleFillOpacity" name="circleFillOpacity"
                                                           class="form-control m-input m-me m-fillopactiy">
                                                    <div class="input-group-append">
                                                        <span class="input-group-text">&nbsp;&nbsp;%&nbsp;&nbsp;</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <h5 class="text-secondary font-weight-bold">椭圆样式</h5>
                                    <div id="ellipse" class="div_layer" role="tabpanel">
                                        <div class="form-group row">
                                            <label class="col-3 col-form-label text-muted">
                                                边框颜色
                                            </label>
                                            <div class="col-9">
                                                <div class="input-group">
                                                    <input type="text" id="ellipseColor" name="ellipseColor"
                                                           class="form-control m-input m-me opinion-color"
                                                           style="height:auto">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-3 col-form-label text-muted">
                                                边框宽度
                                            </label>
                                            <div class="col-9">
                                                <div class="input-group">
                                                    <input type="text" id="ellipseWeight" name="ellipseWeight"
                                                           class="form-control m-input m-me m-weight">
                                                    <div class="input-group-append">
                                                        <span class="input-group-text">像素</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-3 col-form-label text-muted">
                                                填充颜色
                                            </label>
                                            <div class="col-9">
                                                <div class="input-group">
                                                    <input type="text" id="ellipseFillColor" name="ellipseFillColor"
                                                           class="form-control m-input m-me opinion-color"
                                                           style="height:auto">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-3 col-form-label text-muted">
                                                填充透明度
                                            </label>
                                            <div class="col-9">
                                                <div class="input-group">
                                                    <input type="text" id="ellipseFillOpacity" name="ellipseFillOpacity"
                                                           class="form-control m-input m-me m-fillopactiy">
                                                    <div class="input-group-append">
                                                        <span class="input-group-text">&nbsp;&nbsp;%&nbsp;&nbsp;</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col">
                                    <h5 class="text-secondary font-weight-bold">矩形样式</h5>
                                    <div id="rectangle" class="div_layer" role="tabpanel">
                                        <div class="form-group row">
                                            <label class="col-3 col-form-label text-muted">
                                                边框颜色
                                            </label>
                                            <div class="col-9">
                                                <div class="input-group">
                                                    <input type="text" id="retangleColor" name="retangleColor"
                                                           class="form-control m-input m-me opinion-color"
                                                           style="height:auto">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-3 col-form-label text-muted">
                                                边框宽度
                                            </label>
                                            <div class="col-9">
                                                <div class="input-group">
                                                    <input type="text" id="retangleWeight" name="retangleWeight"
                                                           class="form-control m-input m-me m-weight">
                                                    <div class="input-group-append">
                                                        <span class="input-group-text">像素</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-3 col-form-label text-muted">
                                                填充颜色
                                            </label>
                                            <div class="col-9">
                                                <div class="input-group">
                                                    <input type="text" id="retangleFillColor" name="retangleFillColor"
                                                           class="form-control m-input m-me opinion-color"
                                                           style="height:auto">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-3 col-form-label text-muted">
                                                填充透明度
                                            </label>
                                            <div class="col-9">
                                                <div class="input-group">
                                                    <input type="text" id="retangleFillOpacity"
                                                           name="retangleFillOpacity"
                                                           class="form-control m-input m-me m-fillopactiy">
                                                    <div class="input-group-append">
                                                        <span class="input-group-text">&nbsp;&nbsp;%&nbsp;&nbsp;</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer" style="justify-content: center;">
                        <button type="button" class="btn btn-primary btn-opinion-config-primary">确认</button>
                        <button type="button" class="btn btn-secondary btn-opinion-config-secondary"
                                data-dismiss="modal"
                                style="color: #fff;background-color: #6c757d;border-color: #6c757d;">取消
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    var ctx = '[[@{/}]]';
    // var ctx = 'http://192.168.30.93:8083/aplanmis-front'
    var detailId = "[[${detailId}]]";
    var assignee = "[[${assignee}]]";
    var _pdf_url = "http://" + window.location.host + ctx + "/previewPdf/downLoadPdf?detailId=" + detailId;
    var workPath = "http://" + window.location.host + ctx + '/checkdrawing/js/pdf.worker.js';
</script>
<!--js-->
<!--<script src="/framework-ui/src/main/resources/static/agcloud/framework/js-lib/jquery-v1/jquery.min.js" th:src="@{/agcloud/framework/js-lib/jquery-v1/jquery.min.js}"></script>-->
<script src="../../../../../static/checkdrawing/js/jquery-3.2.1.min.js" th:src="@{/checkdrawing/js/jquery-3.2.1.min.js}"
        type="text/javascript"></script>
<script src="../../../../../static/checkdrawing/js/popper.min.js" th:src="@{/checkdrawing/js/popper.min.js}"
        type="text/javascript"></script>
<script src="../../../../../static/checkdrawing/js/sweetalert.min.js" th:src="@{/checkdrawing/js/sweetalert.min.js}"
        type="text/javascript"></script>
<script src="../../../../../static/checkdrawing/js/jquery-ui.min.js" th:src="@{/checkdrawing/js/jquery-ui.min.js}"
        type="text/javascript"></script>
<script src="../../../../../static/checkdrawing/js/bootstrap.js" th:src="@{/checkdrawing/js/bootstrap.js}"
        type="text/javascript"></script>
<script src="../../../../../static/checkdrawing/js/bootstrap-table.min.js"
        th:src="@{/checkdrawing/js/bootstrap-table.min.js}" type="text/javascript"></script>
<script src="../../../../../static/checkdrawing/js/jquery-confirm.min.js"
        th:src="@{/checkdrawing/js/jquery-confirm.min.js}" type="text/javascript"></script>
<script src="../../../../../static/checkdrawing/js/leaflet.js" th:src="@{/checkdrawing/js/leaflet.js}"
        type="text/javascript"></script>
<script src="../../../../../static/checkdrawing/js/l.ellipse.min.js" th:src="@{/checkdrawing/js/l.ellipse.min.js}"
        type="text/javascript"></script>
<script src="../../../../../static/checkdrawing/js/leaflet.polylineDecorator.js"
        th:src="@{/checkdrawing/js/leaflet.polylineDecorator.js}" type="text/javascript"></script>
<script src="../../../../../static/checkdrawing/js/L.PolylineMarkerOpinion.js"
        th:src="@{/checkdrawing/js/L.PolylineMarkerOpinion.js}" type="text/javascript"></script>
<script src="../../../../../static/checkdrawing/js/leaflet-measure-path.js"
        th:src="@{/checkdrawing/js/leaflet-measure-path.js}" type="text/javascript"></script>
<script src="../../../../../static/checkdrawing/js/opencv.js" th:src="@{/checkdrawing/js/opencv.js}"
        type="text/javascript"></script>
<script src="../../../../../static/checkdrawing/js/pdf.js" th:src="@{/checkdrawing/js/pdf.js}"
        type="text/javascript"></script>
<script src="../../../../../static/checkdrawing/js/toastr.min.js" th:src="@{/checkdrawing/js/toastr.min.js}"
        type="text/javascript"></script>
<script src="../../../../../static/checkdrawing/js/jquery.minicolors.min.js"
        th:src="@{/checkdrawing/js/jquery.minicolors.min.js}" type="text/javascript"></script>
<script src="../../../../../static/checkdrawing/js/pdf_drawing_check.js"
        th:src="@{/checkdrawing/js/pdf_drawing_check.js}" type="text/javascript"></script>
<script src="../../../../../static/checkdrawing/js/pdf_drawing_check2.js"
        th:src="@{/checkdrawing/js/pdf_drawing_check2.js}" type="text/javascript"></script>
<script src="../../../../../static/checkdrawing/js/pdf_drawing_compare.js"
        th:src="@{/checkdrawing/js/pdf_drawing_compare.js}" type="text/javascript"></script>
<script src="../../../../../static/checkdrawing/js/check_params_config.js"
        th:src="@{/checkdrawing/js/check_params_config.js}" type="text/javascript"></script>
<script th:src="@{/agcloud/framework/js-lib/vue-v2/vue.js}"></script>
<script th:src="@{/agcloud/framework/js-lib/element-2/element.js}"></script>
<!--<script th:src="@{/agcloud/framework/js-lib/agcloud-lib/js/common.js}" type="text/javascript"></script>-->
<script src="../../static/common/js/common.js" th:src="@{/common/js/common.js}"></script>


<script>
    void function () {
        if (!HTMLCanvasElement.prototype.toBlob) {
            Object.defineProperty(HTMLCanvasElement.prototype, 'toBlob', {
                value: function (callback, type, quality) {
                    var binStr = atob(this.toDataURL(type, quality).split(',')[1]),
                        len = binStr.length,
                        arr = new Uint8Array(len);
                    for (var i = 0; i < len; i++) {
                        arr[i] = binStr.charCodeAt(i);
                    }
                    callback(new Blob([arr], {type: type || 'image/png'}));
                }
            });
        }
    }()
</script>
<script>
    /**
     *  L.Symbol -- 新增属性方法
     * CircleHead
     * circleHead
     * */
    L.Symbol.CircleHead = L.Class.extend({
        options: {
            circleOptions: {
                radius: 10,
                stroke: false,
                weight: 2
            }
        },

        initialize: function (options) {
            L.Util.setOptions(this, options);
            this.options.circleOptions.clickable = false;
        },

        buildSymbol: function (dirPoint, latLngs, map, index, total) {
            return L.circle(dirPoint.latLng, this.options.circleOptions);
        },
    });

    L.Symbol.circleHead = function (options) {
        return new L.Symbol.CircleHead(options);
    };

    /**
     * L.Symbol.ArrowHead.prototype -- 重载方法
     * _buildArrowPath
     * */
    L.Symbol.ArrowHead.prototype._buildArrowPath = function (dirPoint) {

        var d2r = Math.PI / 180;
        var tipPoint = dirPoint.latLng;
        // var direction = (-(dirPoint.heading - 90)) * d2r;
        var direction = (-(dirPoint.heading)) * d2r;
        var radianArrowAngle = this.options.headAngle / 2 * d2r;

        var headAngle1 = direction + radianArrowAngle;
        var headAngle2 = direction - radianArrowAngle;

        var arrowHead1 = {
            lat: tipPoint.lat - this.options.pixelSize * Math.cos(headAngle1),
            lng: tipPoint.lng + this.options.pixelSize * Math.sin(headAngle1)
        }
        var arrowHead2 = {
            lat: tipPoint.lat - this.options.pixelSize * Math.cos(headAngle2),
            lng: tipPoint.lng + this.options.pixelSize * Math.sin(headAngle2)
        }
        return [
            arrowHead1,
            dirPoint.latLng,
            arrowHead2
        ];
    }

    /**
     *   L.Ellipse.prototype -- 重载方法
     * _getLatRadius
     * _getLngRadius
     * */
    L.Ellipse.prototype._getLatRadius = function () {
        return this._mRadiusY;
    }
    L.Ellipse.prototype._getLngRadius = function () {
        return this._mRadiusX;
    }
</script>
</BODY>
<!--<th:block th:include="common/common :: commonfooter" />-->
</HTML>