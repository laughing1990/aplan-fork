<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<!--0 一些前置信息配置 -->
<mapper namespace="com.augurit.aplanmis.common.mapper.AeaItemInoutMapper">

    <!--1 返回所有字段的SQL字句 -->
    <sql id="allColumns">
        INOUT_ID  inoutId,
        ITEM_VER_ID  itemVerId,
        STATE_VER_ID  stateVerId,
        IS_OWNER  isOwner,
        IS_INPUT  isInput,
        FILE_TYPE  fileType,
        MAT_ID  matId,
        CERT_ID  certId,
        IS_STATE_IN  isStateIn,
        IS_DELETED  isDeleted,
        CREATER  creater,
        CREATE_TIME  createTime,
        MODIFIER  modifier,
        MODIFY_TIME  modifyTime,
        ITEM_STATE_ID  itemStateId,
        SORT_NO  sortNo,
        ROOT_ORG_ID rootOrgId
    </sql>

    <sql id="aliasColumns">
        ${alias}.INOUT_ID  inoutId,
        ${alias}.ITEM_VER_ID  itemVerId,
        ${alias}.STATE_VER_ID  stateVerId,
        ${alias}.IS_OWNER  isOwner,
        ${alias}.IS_INPUT  isInput,
        ${alias}.FILE_TYPE  fileType,
        ${alias}.MAT_ID  matId,
        ${alias}.CERT_ID  certId,
        ${alias}.IS_STATE_IN  isStateIn,
        ${alias}.IS_DELETED  isDeleted,
        ${alias}.CREATER  creater,
        ${alias}.CREATE_TIME  createTime,
        ${alias}.MODIFIER  modifier,
        ${alias}.MODIFY_TIME  modifyTime,
        ${alias}.ITEM_STATE_ID  itemStateId,
        ${alias}.SORT_NO  sortNo,
        ${alias}.ROOT_ORG_ID rootOrgId
    </sql>
    <sql id="allColumns_aim">
         ${alias}.MAT_CODE  matCode,
         ${alias}.MAT_NAME  matName,
         ${alias}.IS_GLOBAL_SHARE  isGlobalShare,
         ${alias}.MAT_TYPE_ID  matTypeId,
         ${alias}.RECEIVE_MODE  receiveMode,
         ${alias}.DUE_PAPER_COUNT  duePaperCount,
         ${alias}.DUE_COPY_COUNT  dueCopyCount,
         ${alias}.MAT_FROM  matFrom,
         ${alias}.SAMPLE_DOC  sampleDoc,
         ${alias}.TEMPLATE_DOC  templateDoc,
         ${alias}.MAT_REQUIRE  matRequire,
         ${alias}.MAT_BASIS  matBasis,
         ${alias}.PAPER_IS_REQUIRE  paperIsRequire,
         ${alias}.SORT_NO  sortNo,
         ${alias}.MAT_MEMO  matMemo,
         ${alias}.IS_ACTIVE  isActive,
         ${alias}.IS_DELETED  isDeleted,
         ${alias}.CREATER  creater,
         ${alias}.CREATE_TIME  createTime,
         ${alias}.MODIFIER  modifier,
         ${alias}.MODIFY_TIME  modifyTime,
         ${alias}.ATT_DIR_ID  attDirId,
         ${alias}.MAT_HOLDER  matHolder,
         ${alias}.IS_OFFICIAL_DOC  isOfficialDoc,
         ${alias}.ATT_IS_REQUIRE  attIsRequire,
         ${alias}.IS_COMMON  isCommon,
         ${alias}.REVIEW_KEY_POINTS  reviewKeyPoints,
         ${alias}.REVIEW_SAMPLE_DOC  reviewSampleDoc,
         ${alias}.REVIEW_BASIS  reviewBasis,
         ${alias}.MAT_FROM_DEPT  matFromDept,
         ${alias}.DUE_PAPER_TYPE  duePaperType,
         ${alias}.DUE_COPY_TYPE  dueCopyType,
         ${alias}.PAPER_MAT_TYPE  paperMatType,
         ${alias}.ZCQY  zcqy,
         ${alias}.ROOT_ORG_ID rootOrgId,
         ${alias}.MAT_PROP matProp,
         ${alias}.CERT_ID certId,
         ${alias}.STO_FORM_ID stoFormId
    </sql>
    <!--2 根据主键ID查询单个实体 -->
    <select id="getAeaItemInoutById" resultType="AeaItemInout">
        select
        <include refid="allColumns"/>
        from AEA_ITEM_INOUT
        where INOUT_ID = #{id}
        AND IS_DELETED = '0'
    </select>

    <!--3 根据条件查询实体list -->
    <select id="listAeaItemInout" resultType="AeaItemInout">
        select
        <include refid="allColumns"/>
        from AEA_ITEM_INOUT
        <where>
            <if test="inoutId != null">
                AND INOUT_ID = #{inoutId}
            </if>
            <if test="itemVerId != null">
                AND ITEM_VER_ID = #{itemVerId}
            </if>
            <if test="stateVerId != null">
                AND STATE_VER_ID = #{stateVerId}
            </if>
            <if test="isOwner != null">
                AND IS_OWNER = #{isOwner}
            </if>
            <if test="isInput != null">
                AND IS_INPUT = #{isInput}
            </if>
            <if test="fileType != null">
                AND FILE_TYPE = #{fileType}
            </if>
            <if test="matId != null">
                AND MAT_ID = #{matId}
            </if>
            <if test="certId != null">
                AND CERT_ID = #{certId}
            </if>
            <if test="isStateIn != null">
                AND IS_STATE_IN = #{isStateIn}
            </if>
            <if test="isDeleted != null">
                AND IS_DELETED = #{isDeleted}
            </if>
            <if test="creater != null">
                AND CREATER = #{creater}
            </if>
            <if test="createTime != null">
                AND CREATE_TIME = #{createTime}
            </if>
            <if test="modifier != null">
                AND MODIFIER = #{modifier}
            </if>
            <if test="modifyTime != null">
                AND MODIFY_TIME = #{modifyTime}
            </if>
            <if test="itemStateId != null">
                AND ITEM_STATE_ID = #{itemStateId}
            </if>
            <if test="sortNo != null">
                AND SORT_NO = #{sortNo}
            </if>
            <if test="rootOrgId != null">
                AND ROOT_ORG_ID = #{rootOrgId}
            </if>
            AND IS_DELETED = '0'
        </where>
    </select>
    
    <select id="listAeaItemInoutRelMat" resultType="AeaItemInout">
        select
            <include refid="aliasColumns">
                <property name="alias" value="inout1"/>
            </include>,
            mat.MAT_NAME aeaMatCertName,
            mat.MAT_CODE aeaMatCertCode,
            mat.MAT_PROP matProp,
            mat.CERT_ID certId,
            mat.STO_FORM_ID formId,
            mat.IS_COMMON isCommon
        from AEA_ITEM_INOUT inout1, AEA_ITEM_MAT mat
        <where>
                and  inout1.MAT_ID = mat.MAT_ID
                and  inout1.ROOT_ORG_ID = #{rootOrgId}
                and  inout1.IS_DELETED = '0'
                and  mat.IS_DELETED = '0'
            <if test="inoutId != null">
                and  inout1.INOUT_ID = #{inoutId}
            </if>
            <if test="itemVerId != null">
                and  inout1.ITEM_VER_ID = #{itemVerId}
            </if>
            <if test="stateVerId != null">
                and  inout1.STATE_VER_ID = #{stateVerId}
            </if>
            <if test="isOwner != null">
                and  inout1.IS_OWNER = #{isOwner}
            </if>
            <if test="isInput != null">
                and  inout1.IS_INPUT = #{isInput}
            </if>
            <if test="matId != null">
                and  inout1.MAT_ID = #{matId}
            </if>
            <if test="isStateIn != null">
                and  inout1.IS_STATE_IN = #{isStateIn}
            </if>
            <if test="itemStateId != null">
                and  inout1.ITEM_STATE_ID = #{itemStateId}
            </if>
            <if test="sortNo != null">
                and  inout1.SORT_NO = #{sortNo}
            </if>
            <if test="matProp!=null and  matProp!='' ">
                and  mat.MAT_PROP = #{matProp}
            </if>
            <if test="matProps!=null and matProps.size()>0">
                and  mat.MAT_PROP in
                <foreach collection="matProps" item="matPropItem" open="(" close=")" separator=",">
                    #{matPropItem}
                </foreach>
            </if>
        </where>
    </select>

    <!--5 新增实体对象 -->
    <insert id="insertAeaItemInout" parameterType="AeaItemInout">
       insert into AEA_ITEM_INOUT (
            INOUT_ID,
            ITEM_VER_ID,
            STATE_VER_ID,
            IS_OWNER,
            IS_INPUT,
            FILE_TYPE,
            MAT_ID,
            CERT_ID,
            CREATER,
            CREATE_TIME,
            MODIFIER,
            MODIFY_TIME,
            IS_STATE_IN,
            ITEM_STATE_ID,
            SORT_NO,
            ROOT_ORG_ID
       )  values  (
            #{inoutId},
            #{itemVerId},
            #{stateVerId},
            #{isOwner},
            #{isInput},
            #{fileType},
            #{matId},
            #{certId},
            #{creater},
            #{createTime},
            #{modifier},
            #{modifyTime},
            #{isStateIn},
            #{itemStateId},
            #{sortNo},
            #{rootOrgId}
        )
    </insert>

    <!--6 修改实体对象 -->
    <update id="updateAeaItemInout" parameterType="AeaItemInout">
        update AEA_ITEM_INOUT
        <set>
            <if test="inoutId != null">
                INOUT_ID = #{inoutId},
            </if>
            <if test="itemVerId != null">
                ITEM_VER_ID = #{itemVerId},
            </if>
            <if test="isOwner != null">
                IS_OWNER = #{isOwner},
            </if>
            <if test="isInput != null">
                IS_INPUT = #{isInput},
            </if>
            <if test="fileType != null">
                FILE_TYPE = #{fileType},
            </if>
            <if test="matId != null">
                MAT_ID = #{matId},
            </if>
            <if test="certId != null">
                CERT_ID = #{certId},
            </if>
            <if test="creater != null">
                CREATER = #{creater},
            </if>
            <if test="createTime != null">
                CREATE_TIME = #{createTime},
            </if>
            <if test="modifier != null">
                MODIFIER = #{modifier},
            </if>
            <if test="modifyTime != null">
                MODIFY_TIME = #{modifyTime},
            </if>
            <if test="isStateIn != null">
                IS_STATE_IN = #{isStateIn},
            </if>
            <if test="itemStateId != null">
                ITEM_STATE_ID = #{itemStateId},
            </if>
            <if test="isDeleted != null">
                IS_DELETED = #{isDeleted, jdbcType=VARCHAR},
            </if>
            <if test="sortNo != null">
                SORT_NO = #{sortNo},
            </if>
            <if test="rootOrgId != null">
                ROOT_ORG_ID = #{rootOrgId},
            </if>
        </set>
        where INOUT_ID = #{inoutId}
    </update>

    <!--7 删除实体对象,根据主键ID -->
    <update id="deleteAeaItemInoutById">
        update AEA_ITEM_INOUT
        <set>
            IS_DELETED = '1'
        </set>
        where INOUT_ID = #{id}
    </update>

    <resultMap type="AeaItemInout" id="AeaItemInoutMap">
        <id property="inoutId" column="INOUT_ID"/>
        <result property="itemVerId" column="ITEM_VER_ID"/>
        <result property="stateVerId" column="STATE_VER_ID"/>
        <result property="isOwner" column="IS_OWNER"/>
        <result property="isInput" column="IS_INPUT"/>
        <result property="fileType" column="FILE_TYPE"/>
        <result property="matId" column="MAT_ID"/>
        <result property="certId" column="CERT_ID"/>
        <result property="isStateIn" column="IS_STATE_IN"/>
        <result property="isDeleted" column="IS_DELETED"/>
        <result property="creater" column="CREATER"/>
        <result property="createTime" column="CREATE_TIME"/>
        <result property="modifier" column="MODIFIER"/>
        <result property="modifyTime" column="MODIFY_TIME"/>
        <result property="itemStateId" column="ITEM_STATE_ID"/>
        <result property="sortNo" column="SORT_NO"/>
        <result property="rootOrgId" column="ROOT_ORG_ID"/>

    </resultMap>

    <select id="selectOneByMatId" resultType="AeaItemInout">
        select
        <include refid="allColumns"/>
        from AEA_ITEM_INOUT
        where MAT_ID = #{matId}
        and ROOT_ORG_ID = #{rootOrgId}
        and IS_DELETED='0'
    </select>

    <update id="batchDeleteAeaItemInout" parameterType="AeaItemInout">
        update AEA_ITEM_INOUT set IS_DELETED = '1'
        <where>
            <if test="inoutId != null">
                AND INOUT_ID = #{inoutId}
            </if>
            <if test="itemVerId != null">
                AND ITEM_VER_ID = #{itemVerId}
            </if>
            <if test="isOwner != null">
                AND IS_OWNER = #{isOwner}
            </if>
            <if test="isInput != null">
                AND IS_INPUT = #{isInput}
            </if>
            <if test="fileType != null">
                AND FILE_TYPE = #{fileType}
            </if>
            <if test="matId != null">
                AND MAT_ID = #{matId}
            </if>
            <if test="certId != null">
                AND CERT_ID = #{certId}
            </if>
            <if test="creater != null">
                AND CREATER = #{creater}
            </if>
            <if test="createTime != null">
                AND CREATE_TIME = #{createTime}
            </if>
            <if test="modifier != null">
                AND MODIFIER = #{modifier}
            </if>
            <if test="modifyTime != null">
                AND MODIFY_TIME = #{modifyTime}
            </if>
            <if test="isStateIn != null and isStateIn!= '' ">
                AND IS_STATE_IN = #{isStateIn}
            </if>
            <if test="itemStateId != null and itemStateId!= '' ">
                AND ITEM_STATE_ID = #{itemStateId}
            </if>
            <if test="isDeleted != null">
                AND IS_DELETED = #{isDeleted, jdbcType=VARCHAR}
            </if>
            <if test="rootOrgId != null">
                AND ROOT_ORG_ID = #{rootOrgId}
            </if>
        </where>
    </update>

    <update id="batchDeleteAeaItemInoutByIds" parameterType="list">
        update aea_item_inout
        <set>
            IS_DELETED = '1'
        </set>
        where inout_id in
        <foreach collection="inoutIds" item="id" index="i" open="(" separator="," close=")">
            #{id}
        </foreach>
    </update>

    <update id="deleteAeaItemInoutByStateId">
        update aea_item_inout
           set IS_DELETED = '1'
         where 1=1
           and ITEM_VER_ID = #{itemVerId}
           and STATE_VER_ID = #{stateVerId}
           and ITEM_STATE_ID = #{itemStateId}
           and ROOT_ORG_ID = #{rootOrgId}
    </update>

    <select id="listAeaItemInoutByItemVerId" resultType="AeaItemInout">
        select
        <include refid="allColumns"/>
        from AEA_ITEM_INOUT
        <where>
            <if test="itemVerId != null">
                AND ITEM_VER_ID = #{itemVerId}
            </if>
        </where>
    </select>

    <select id="listAeaItemInoutAndMat" resultMap="inoutAndMatResultMap" parameterType="AeaItemInout">
        select
            mat.MAT_ID,
            mat.MAT_CODE,
            mat.MAT_NAME,
            mat.IS_GLOBAL_SHARE,
            mat.MAT_TYPE_ID,
            mat.RECEIVE_MODE,
            mat.DUE_PAPER_COUNT,
            mat.DUE_COPY_COUNT,
            mat.MAT_FROM,
            mat.SAMPLE_DOC,
            mat.TEMPLATE_DOC,
            mat.MAT_REQUIRE,
            mat.MAT_BASIS,
            mat.PAPER_IS_REQUIRE,
            mat.SORT_NO,
            mat.MAT_MEMO,
            mat.IS_ACTIVE,
            mat.IS_DELETED,
            mat.CREATER,
            mat.CREATE_TIME,
            mat.MODIFIER,
            mat.MODIFY_TIME,
            mat.ATT_DIR_ID,
            mat.MAT_HOLDER,
            mat.IS_OFFICIAL_DOC,
            mat.ATT_IS_REQUIRE,
            mat.IS_COMMON,
            mat.REVIEW_KEY_POINTS,
            mat.REVIEW_SAMPLE_DOC,
            mat.REVIEW_BASIS,
            mat.MAT_PROP,
            mat.CERT_ID,
            mat.STO_FORM_ID,
            iout.INOUT_ID,
            iout.ITEM_VER_ID,
            iout.IS_OWNER,
            iout.IS_INPUT,
            iout.FILE_TYPE,
            iout.MAT_ID MAT_ID1,
            iout.CERT_ID,
            iout.CREATER CREATER1,
            iout.CREATE_TIME CREATE_TIME1,
            iout.MODIFIER MODIFIER1,
            iout.MODIFY_TIME MODIFY_TIME1
        from AEA_ITEM_MAT mat LEFT JOIN AEA_ITEM_INOUT iout ON mat.MAT_ID = iout.MAT_ID
        <where>
            <if test="keyword != null and keyword != ''">
                AND (mat.MAT_NAME LIKE CONCAT(CONCAT('%',#{keyword}),'%') OR mat.MAT_CODE LIKE
                CONCAT(CONCAT('%',#{keyword}),'%'))
            </if>
            <if test="isStateIn !=null">
                AND iout.is_state_in=#{isStateIn}
            </if>
            AND iout.ITEM_VER_ID=#{itemVerId} AND iout.IS_INPUT = #{isInput} AND iout.IS_DELETED='0' and
            mat.IS_DELETED='0'
        </where>
    </select>

    <select id="getAeaItemInoutByMatId" resultType="AeaItemInout">
        select
        <include refid="allColumns"/>
        from AEA_ITEM_INOUT
        where mat_id = #{matId} AND IS_DELETED='0'
    </select>

    <select id="getCertIdListByItemVerId" resultType="java.lang.String">
      select cert_id
      from aea_item_inout
      where file_type = 'cert' and item_ver_id = #{itemVerId} AND IS_DELETED='0' AND IS_INPUT='0' and ROOT_ORG_ID=#{rootOrgId}
    </select>

    <select id="getMatIdListByItemId" resultType="java.lang.String">
        select DISTINCT mat_id
        from aea_item_inout
        where file_type = 'mat' and item_ver_id = #{itemVerId} AND IS_DELETED='0'
    </select>

    <select id="listInStateMatByItemIdAndStateId" resultType="AeaItemInout">
        select
            iout.INOUT_ID inoutId,
            iout.item_VER_id itemVerId
            iout.IS_OWNER isOwner,
            iout.IS_INPUT isInput,
            iout.FILE_TYPE fileType,
            iout.MAT_ID matId,
            iout.CERT_ID certId,
            iout.CREATER creater,
            iout.CREATE_TIME createTime,
            iout.MODIFIER modifier,
            iout.MODIFY_TIME modifyTime,
            iout.IS_STATE_IN isStateIn,
            iout.ITEM_STATE_ID itemStateId,
            mat.MAT_NAME aeaMatCertName,
            mat.MAT_CODE aeaMatCertCode,
            mat.MAT_MEMO aeaMatCertMemo,
            mat.MAT_PROP matProp,
            mat.CERT_ID certId,
            mat.STO_FORM_ID formId
        from AEA_ITEM_INOUT iout
        join AEA_ITEM_MAT mat on mat.MAT_ID = iout.MAT_ID
        <where>
            and iout.ITEM_VER_ID = #{itemVerId}
            and iout.ITEM_STATE_ID = #{itemStateId}
            and iout.IS_STATE_IN = '1'
            and iout.FILE_TYPE = 'mat'
            and mat.IS_DELETED = '0'
            and iout.IS_DELETED='0'
            and iout.IS_INPUT = #{isInput}
        </where>
    </select>

    <select id="getGlobalMatListByStateId" resultType="java.lang.String">
        select
        iout.MAT_ID matId
        from AEA_ITEM_INOUT iout
        join AEA_ITEM_MAT mat on mat.MAT_ID = iout.MAT_ID
        <where>
            and iout.IS_INPUT = '1'
            and iout.FILE_TYPE = 'mat'
            and iout.IS_STATE_IN = '1'
            and iout.ITEM_STATE_ID = #{itemStateId}
            and ( iout.ITEM_STATE_ID is null or iout.ITEM_STATE_ID = #{itemStateId} )
            and iout.ITEM_VER_ID = #{itemVerId}
            and iout.IS_DELETED='0'
            and mat.is_common='0'
            and mat.IS_GLOBAL_SHARE = '1'
            and mat.IS_ACTIVE = '1'
            and mat.IS_DELETED = '0'
        </where>
    </select>

    <select id="getCertListByStateId" resultType="java.lang.String">
        select
        iout.CERT_ID certId
        from AEA_ITEM_INOUT iout
        <where>
            and iout.IS_INPUT = '1'
            and iout.FILE_TYPE = 'cert'
            and iout.IS_STATE_IN = '1'
            and iout.ITEM_STATE_ID = #{itemStateId}
            and iout.ITEM_VER_ID = #{itemVerId}
            and iout.IS_DELETED = '0'
        </where>
    </select>

    <select id="listAeaItemInoutMatCert" resultType="AeaItemInout">
        select
            inOut1.INOUT_ID inoutId,
            inOut1.ITEM_VER_ID itemVerId,
            inOut1.IS_OWNER isOwner,
            inOut1.IS_INPUT isInput,
            inOut1.FILE_TYPE fileType,
            inOut1.MAT_ID matId,
            inOut1.IS_STATE_IN isStateIn,
            inOut1.ITEM_STATE_ID itemStateId,
            inOut1.IS_DELETED isDeleted,
            inOut1.SORT_NO sortNo,
            mat.ZCQY  zcqy,
            mat.IS_COMMON isCommon,
            mat.IS_OFFICIAL_DOC  isOfficialDoc,
            mat.ATT_IS_REQUIRE  attIsRequire,
            mat.PAPER_IS_REQUIRE  paperIsRequire,
            mat.MAT_NAME aeaMatCertName,
            mat.MAT_CODE aeaMatCertCode,
            mat.MAT_PROP matProp,
            mat.CERT_ID certId,
            mat.STO_FORM_ID formId
        from AEA_ITEM_INOUT inOut1, AEA_ITEM_MAT mat
        <where>
            and inOut1.MAT_ID = mat.MAT_ID
--             and inOut1.ROOT_ORG_ID = mat.ROOT_ORG_ID
            and inOut1.ROOT_ORG_ID = #{rootOrgId}
            and inOut1.IS_INPUT = #{isInput}
            and inOut1.IS_DELETED = '0'
            and inOut1.ITEM_VER_ID = #{itemVerId}
            and mat.IS_DELETED = '0'
            <if test="isStateIn != null and isStateIn!= '' ">
            and inOut1.IS_STATE_IN = #{isStateIn}
            </if>
            <if test="itemStateId != null and itemStateId!= '' ">
            and inOut1.ITEM_STATE_ID = #{itemStateId}
            </if>
            <if test="stateVerId != null">
            and inOut1.STATE_VER_ID = #{stateVerId}
            </if>
            <if test="keyword != null and keyword != ''">
            and (
                mat.MAT_NAME like CONCAT(CONCAT('%',#{keyword}),'%') or
                mat.MAT_CODE like CONCAT(CONCAT('%',#{keyword}),'%')
            )
            </if>
        </where>
        order by inOut1.SORT_NO asc, inOut1.CREATE_TIME asc, inOut1.MODIFY_TIME asc
    </select>

    <select id="listAeaItemMatCertForm" resultType="AeaItemInout">
        select
            inOut1.INOUT_ID inoutId,
            inOut1.ITEM_VER_ID itemVerId,
            inOut1.IS_OWNER isOwner,
            inOut1.IS_INPUT isInput,
            inOut1.FILE_TYPE fileType,
            inOut1.MAT_ID matId,
            inOut1.IS_STATE_IN isStateIn,
            inOut1.ITEM_STATE_ID itemStateId,
            inOut1.IS_DELETED isDeleted,
            inOut1.SORT_NO sortNo,
            mat.ZCQY  zcqy,
            mat.IS_COMMON isCommon,
            mat.IS_OFFICIAL_DOC  isOfficialDoc,
            mat.ATT_IS_REQUIRE  attIsRequire,
            mat.PAPER_IS_REQUIRE  paperIsRequire,
            mat.MAT_NAME aeaMatCertName,
            mat.MAT_CODE aeaMatCertCode,
            mat.MAT_PROP matProp,
            mat.CERT_ID certId,
            mat.STO_FORM_ID formId
        from AEA_ITEM_INOUT inOut1, AEA_ITEM_MAT mat
        <where>
            and inOut1.MAT_ID = mat.MAT_ID
--             and inOut1.ROOT_ORG_ID = mat.ROOT_ORG_ID
            and inOut1.ROOT_ORG_ID = #{rootOrgId}
            and inOut1.IS_INPUT = #{isInput}
            and mat.IS_DELETED = '0'
            and inOut1.IS_DELETED = '0'
            and inOut1.ITEM_VER_ID = #{itemVerId}
            <if test="isStateIn != null and isStateIn!= '' ">
            and inOut1.IS_STATE_IN = #{isStateIn}
            </if>
            <if test="itemStateId != null and itemStateId!= '' ">
            and inOut1.ITEM_STATE_ID = #{itemStateId}
            </if>
            <if test="stateVerId != null">
            and inOut1.STATE_VER_ID = #{stateVerId}
            </if>
            <if test="keyword != null and keyword != ''">
            and (
                mat.MAT_NAME like CONCAT(CONCAT('%',#{keyword}),'%') or
                mat.MAT_CODE like CONCAT(CONCAT('%',#{keyword}),'%')
            )
            </if>
        </where>
        order by inOut1.SORT_NO asc, inOut1.CREATE_TIME asc, inOut1.MODIFY_TIME asc
    </select>

    <select id="listMatAndInoutList" resultMap="inoutAndMatResultMap" parameterType="com.augurit.aplanmis.common.qo.item.ItemMatInoutQo">
        select
            mat.MAT_ID,
            mat.MAT_CODE,
            mat.MAT_NAME,
            mat.IS_GLOBAL_SHARE,
            mat.MAT_TYPE_ID,
            mat.RECEIVE_MODE,
            mat.DUE_PAPER_COUNT,
            mat.DUE_COPY_COUNT,
            mat.MAT_FROM,
            mat.SAMPLE_DOC,
            mat.TEMPLATE_DOC,
            mat.MAT_REQUIRE,
            mat.MAT_BASIS,
            mat.SORT_NO,
            mat.MAT_MEMO,
            mat.IS_ACTIVE,
            mat.IS_DELETED,
            mat.CREATER,
            mat.CREATE_TIME,
            mat.MODIFIER,
            mat.MODIFY_TIME,
            mat.ATT_DIR_ID,
            mat.MAT_HOLDER,
            mat.REVIEW_KEY_POINTS,
            mat.REVIEW_SAMPLE_DOC,
            mat.REVIEW_BASIS,
            mat.MAT_PROP,
            mat.CERT_ID,
            mat.STO_FORM_ID,
            mat.ZCQY zcqy,
            mat.IS_COMMON,
            mat.IS_OFFICIAL_DOC,
            mat.ATT_IS_REQUIRE,
            mat.PAPER_IS_REQUIRE,
            iout.INOUT_ID,
            iout.ITEM_VER_ID,
            iout.IS_OWNER,
            iout.IS_INPUT,
            iout.IS_STATE_IN,
            iout.FILE_TYPE,
            iout.ITEM_STATE_ID,
            iout.STATE_VER_ID,
            iout.CREATER CREATER1,
            iout.CREATE_TIME CREATE_TIME1,
            iout.MODIFIER MODIFIER1,
            iout.MODIFY_TIME MODIFY_TIME1
        from AEA_ITEM_MAT mat, AEA_ITEM_INOUT iout
        <where>
            and iout.MAT_ID = mat.MAT_ID
            and iout.ROOT_ORG_ID = mat.ROOT_ORG_ID
            and iout.ROOT_ORG_ID = #{rootOrgId}
            and iout.ITEM_VER_ID = #{itemVerId}
            <if test="keyword != null and keyword != ''">
            and (
                mat.MAT_NAME LIKE CONCAT(CONCAT('%',#{keyword}),'%') OR
                mat.MAT_CODE LIKE CONCAT(CONCAT('%',#{keyword}),'%')
            )
            </if>
            <if test="isDeleted != null">
                and iout.IS_DELETED = #{isDeleted, jdbcType=VARCHAR}
                and mat.IS_DELETED = #{isDeleted, jdbcType=VARCHAR}
            </if>
            <if test="isInput != null">
                and iout.IS_INPUT=#{isInput}
            </if>
            <if test="isStateIn != null">
                and iout.is_state_in=#{isStateIn}
            </if>
            <if test="isActive != null">
                and mat.is_active=#{isActive, jdbcType=VARCHAR}
            </if>
            <if test="stateVerId != null">
                and iout.STATE_VER_ID=#{stateVerId}
            </if>
            <if test="itemStateId != null and itemStateId != ''">
                and iout.ITEM_STATE_ID = #{itemStateId}
            </if>
        </where>
        order by iout.SORT_NO desc,iout.CREATE_TIME desc
    </select>

    <select id="listInoutByItemId" resultType="AeaItemInout">
        select
        <include refid="allColumns"/>
        from aea_item_inout
        where file_type = 'mat'
        and item_ver_id = #{itemVerId}
        AND is_input='1'
        and is_state_in='1'
        and (item_state_id=#{itemStateId} or item_state_id is null)
    </select>

    <select id="getAeaItemMatByItemVerIdAndMatIdAndStateId" resultType="AeaItemInout">
        select
        <include refid="allColumns"/>
        from AEA_ITEM_INOUT aii
        where 1=1
        <if test="itemVerId != null">
            AND aii.ITEM_VER_ID = #{itemVerId}
        </if>
        <if test="matId != null">
            and aii.mat_id = #{matId}
        </if>
        <if test="stateId != null">
            AND aii.ITEM_STATE_ID = #{stateId}
        </if>

    </select>

    <delete id="thoroughDeleteAeaItemInoutByItemId">
        delete from aea_item_inout
        where ITEM_VER_ID = #{itemVerId} and  IS_INPUT ='1'
    </delete>

    <delete id="thoroughDeleteAeaItemInoutByStateId">
        delete from  aea_item_inout
        where ITEM_VER_ID = #{itemVerId} and ITEM_STATE_ID = #{stateId} and IS_STATE_IN = '1'
    </delete>

    <select id="listStoMatByCondition" resultType="AeaItemInout">
        select
            iout.INOUT_ID inoutId,
            iout.ITEM_VER_ID itemVerId,
            iout.IS_OWNER isOwner,
            iout.IS_INPUT isInput,
            iout.FILE_TYPE fileType,
            iout.MAT_ID matId,
            iout.CERT_ID certId,
            iout.CREATER creater,
            iout.CREATE_TIME createTime,
            iout.MODIFIER modifier,
            iout.MODIFY_TIME modifyTime,
            iout.IS_STATE_IN isStateIn,
            iout.ITEM_STATE_ID itemStateId,
            mat.MAT_NAME aeaMatCertName,
            mat.MAT_CODE aeaMatCertCode,
            mat.MAT_MEMO aeaMatCertMemo,
            mat.MAT_PROP matProp,
            mat.CERT_ID certId,
            mat.STO_FORM_ID formId
        from AEA_ITEM_INOUT iout
        join AEA_ITEM_MAT mat on mat.MAT_ID = iout.MAT_ID
        <where>
            <if test="itemVerId != null and itemVerId!='' ">
                and iout.ITEM_VER_ID = #{itemVerId}
            </if>
            <if test="isInput != null and isInput!='' ">
                and iout.IS_INPUT = #{isInput}
            </if>
            <if test="isStateIn != null and isStateIn!= '' ">
                and iout.IS_STATE_IN = #{isStateIn}
            </if>
            <if test="itemStateId != null and itemStateId!= '' ">
                and iout.ITEM_STATE_ID = #{itemStateId}
            </if>
            <if test="isCommon != null and isCommon!= '' ">
                and mat.IS_COMMON = #{isCommon}
            </if>
            and iout.FILE_TYPE = 'mat'
            and iout.IS_DELETED = '0'
            and mat.IS_ACTIVE = '1'
            and mat.IS_DELETED = '0'
        </where>
    </select>

    <select id="listInoutAndMatByCriteria" resultMap="aeaItemInoutMatDtoMap"
            parameterType="com.augurit.aplanmis.common.qo.state.AeaItemStateQo">
        SELECT
            IOUT.INOUT_ID,
            IOUT.ITEM_VER_ID,
            IOUT.STATE_VER_ID,
            IOUT.IS_OWNER,
            IOUT.IS_INPUT,
            IOUT.IS_STATE_IN,
            IOUT.FILE_TYPE,
            IOUT.MAT_ID,
            IOUT.CERT_ID,
            IOUT.CREATER IOUT_CREATER,
            IOUT.CREATE_TIME IOUT_CREATE_TIME,
            IOUT.MODIFIER IOUT_MODIFIER,
            IOUT.IS_DELETED IOUT_IS_DELETED,
            IOUT.ITEM_STATE_ID,
            IOUT.SORT_NO IOUT_SORT_NO,
            MAT.MAT_CODE,
            MAT.MAT_NAME,
            MAT.IS_GLOBAL_SHARE,
            MAT.MAT_TYPE_ID,
            MAT.RECEIVE_MODE,
            MAT.DUE_PAPER_COUNT,
            MAT.DUE_COPY_COUNT,
            MAT.MAT_FROM,
            MAT.SAMPLE_DOC,
            MAT.TEMPLATE_DOC,
            MAT.MAT_REQUIRE,
            MAT.MAT_BASIS,
            MAT.PAPER_IS_REQUIRE,
            MAT.SORT_NO MAT_SORT_NO,
            MAT.MAT_MEMO,
            MAT.IS_ACTIVE,
            MAT.IS_DELETED MAT_IS_DELETED,
            MAT.CREATER MAT_CREATER,
            MAT.CREATE_TIME MAT_CREATE_TIME,
            MAT.MODIFIER MAT_MODIFIER,
            MAT.MODIFY_TIME MAT_MODIFY_TIME,
            MAT.ATT_DIR_ID,
            MAT.MAT_HOLDER,
            MAT.IS_OFFICIAL_DOC,
            MAT.IS_COMMON,
            MAT.REVIEW_KEY_POINTS,
            MAT.REVIEW_SAMPLE_DOC,
            MAT.REVIEW_BASIS,
            MAT.MAT_FROM_DEPT,
            MAT.DUE_PAPER_TYPE,
            MAT.DUE_COPY_TYPE,
            MAT.PAPER_MAT_TYPE,
            MAT.ATT_IS_REQUIRE,
            MAT.ZCQY,
            MAT.MAT_PROP,
            MAT.CERT_ID,
            MAT.STO_FORM_ID
        FROM AEA_ITEM_INOUT IOUT
        JOIN AEA_ITEM_MAT MAT ON IOUT.MAT_ID=MAT.MAT_ID
        <where>
            <if test="itemId != null">
                AND IOUT.ITEM_ID = #{itemId}
            </if>
            <if test="itemVerId != null">
                AND IOUT.ITEM_VER_ID = #{itemVerId}
            </if>
            <if test="stateVerId != null">
                AND IOUT.STATE_VER_ID = #{stateVerId}
            </if>
            <if test="itemStateId != null">
                AND IOUT.ITEM_STATE_ID = #{itemStateId}
            </if>
            <if test="itemStateIdNullable != null and itemStateIdNullable == 'NOT_NULL'">
                AND IOUT.ITEM_STATE_ID IS NOT NULL
            </if>
            <if test="itemStateIdNullable != null and itemStateIdNullable == 'IS_NULL'">
                AND IOUT.ITEM_STATE_ID IS NULL
            </if>
            <if test="itemStateIds != null and itemStateIds.size() != 0">
                AND IOUT.ITEM_STATE_ID IN
                <foreach collection="itemStateIds" item="itemStateId" open="(" separator="," close=")">
                    #{itemStateId}
                </foreach>
            </if>
            <if test="isInput != null">
                AND IOUT.IS_INPUT = #{isInput}
            </if>
            <if test="isActive != null">
                AND IOUT.IS_ACTIVE = #{isActive}
            </if>
            <if test="isStateIn != null">
                AND IOUT.IS_STATE_IN = #{isStateIn}
            </if>
            <if test="fileType != null">
                AND IOUT.FILE_TYPE = #{fileType}
            </if>
            <if test="isDeleted != null">
                AND IOUT.IS_DELETED = #{isDeleted} AND MAT.IS_DELETED = #{isDeleted}
            </if>
            <if test="isCommon != null">
                AND MAT.IS_COMMON = #{isCommon}
            </if>
            <if test="matName != null">
                AND MAT.MAT_NAME LIKE #{matName}
            </if>
            <if test="matCode != null">
                AND MAT.MAT_CODE LIKE #{matCode}
            </if>
        </where>
    </select>

    <select id="listAeaItemInoutByMatIds" resultType="AeaItemInout">
        select
        <include refid="allColumns"/>
        FROM AEA_ITEM_INOUT iout
        <where>
            iout.MAT_ID in
            <foreach collection="matIds" item="matId" open="(" separator="," close=")">
                #{matId}
            </foreach>

            <if test="itemId != null">
                AND ITEM_ID = #{itemId}
            </if>
            <if test="isInput != null">
                AND IS_INPUT = #{isInput}
            </if>
        </where>
    </select>

    <select id="getItemInoutMaxSortNo" resultType="java.lang.Long">
        select max(SORT_NO) from AEA_ITEM_INOUT
        <where>
            and IS_DELETED = '0'
            and ROOT_ORG_ID = #{rootOrgId}
            and IS_INPUT = #{isInput}
            and ITEM_VER_ID = #{itemVerId}
            <if test="stateVerId != null and stateVerId!='' ">
                and STATE_VER_ID = #{stateVerId}
            </if>
        </where>
    </select>

    <select id="getPreItemInItemInout" resultType="AeaItemInout">
    select <include refid="aliasColumns"><property name="alias" value="aii2"></property></include> from aea_item_inout aii2  , (
        select distinct  apsm.out_inout_id
     from aea_item_inout aii ,aea_par_share_mat apsm,aea_item_state_ver aisv
      where aii.FILE_TYPE='mat' and aii.IS_INPUT='1' and aii.IS_DELETED='0' and aii.ITEM_VER_ID=#{itemVerId} and apsm.theme_ver_id = #{themeVerId}
      and apsm.in_inout_id = aii.INOUT_ID
     	AND aii.STATE_VER_ID = aisv.ITEM_STATE_VER_ID
        AND aisv.ITEM_VER_ID = aii.ITEM_VER_ID
        AND (aisv.VER_STATUS = '1' OR aisv.VER_STATUS ='2')
        AND aisv.IS_DELETED = '0'
        ) gg where gg.out_inout_id = aii2.inout_id
    </select>

    <select id="listItemInoutOfficeMat" resultType="AeaItemInout">
        select
            <include refid="aliasColumns">
                <property name="alias" value="inOut1"></property>
            </include>,
            mat.IS_COMMON isCommon,
            mat.MAT_NAME as aeaMatCertName,
            mat.MAT_CODE as aeaMatCertCode,
            mat.MAT_PROP matProp,
            mat.CERT_ID certId,
            mat.STO_FORM_ID formId
        from AEA_ITEM_INOUT inOut1, AEA_ITEM_MAT mat
        <where>
            and inOut1.MAT_ID = mat.MAT_ID
            and inOut1.ROOT_ORG_ID = #{rootOrgId}
            and inOut1.IS_INPUT = #{isInput}
            and inOut1.FILE_TYPE = 'mat'
            and inOut1.IS_DELETED = '0'
            and mat.IS_DELETED = '0'
            and mat.IS_OFFICIAL_DOC = '1'
            <if test="isStateIn != null and isStateIn!= '' ">
            and inOut1.IS_STATE_IN = #{isStateIn}
            </if>
            <if test="itemVerId != null and itemVerId!='' ">
            and inOut1.ITEM_VER_ID = #{itemVerId}
            </if>
            <if test="itemVerIds != null and itemVerIds.size()>0">
            and inOut1.ITEM_VER_ID in
            <foreach collection="itemVerIds" item="itemVerId" open="(" separator="," close=")">
                #{itemVerId}
            </foreach>
            </if>
            <if test="stateVerId != null and stateVerId!='' ">
            and inOut1.STATE_VER_ID = #{stateVerId}
            </if>
            <if test="itemStateId != null and itemStateId!='' ">
            and inOut1.ITEM_STATE_ID = #{itemStateId}
            </if>
            <if test="keyword != null and keyword != ''">
            and (
                mat.MAT_NAME like CONCAT(CONCAT('%',#{keyword}),'%') or
                mat.MAT_CODE like CONCAT(CONCAT('%',#{keyword}),'%')
            )
            </if>
        </where>
        order by inOut1.SORT_NO asc, inOut1.CREATE_TIME asc, inOut1.MODIFY_TIME asc
    </select>

    <select id="listInoutOfficeMatRelItemInfo" resultType="AeaItemInout">
        select
            <include refid="aliasColumns">
                <property name="alias" value="inOut1"></property>
            </include>,
            mat.IS_COMMON isCommon,
            mat.MAT_NAME as aeaMatCertName,
            mat.MAT_CODE as aeaMatCertCode,
            mat.MAT_PROP matProp,
            mat.CERT_ID certId,
            mat.STO_FORM_ID formId,
            item.ITEM_ID as itemId,
            item.ITEM_VER_ID as itemVerId,
            item.ITEM_CODE as itemCode,
            item.ITEM_NAME as itemName,
            case item.IS_CATALOG when '1' then '标准事项' else '实施事项' end as isCatalog,
            case item.IS_CATALOG when '1' then item.GUIDE_ORG_NAME else item.ORG_NAME end as orgName
        from AEA_ITEM_INOUT inOut1
        join AEA_ITEM_MAT mat on inOut1.MAT_ID = mat.MAT_ID
        join (
            select
                aib.ITEM_ID,
                aib.ITEM_VER_ID,
                aib.ITEM_CODE,
                aib.ITEM_NAME,
                aib.IS_CATALOG,
                aib.ROOT_ORG_ID,
                aib.GUIDE_ORG_NAME,
                org.ORG_NAME
            from AEA_ITEM_BASIC aib
            left join OPU_OM_ORG org on org.ORG_ID = aib.ORG_ID and org.ORG_DELETED = '0'
        )item on item.ITEM_VER_ID = inOut1.ITEM_VER_ID
        <where>
            and item.ROOT_ORG_ID = #{rootOrgId}
            and mat.ROOT_ORG_ID = #{rootOrgId}
            and inOut1.ROOT_ORG_ID = #{rootOrgId}
            and mat.IS_DELETED = '0'
            and mat.IS_OFFICIAL_DOC = '1'
            and inOut1.IS_DELETED = '0'
--             and inOut1.FILE_TYPE = 'mat'
            and inOut1.IS_INPUT = #{isInput}
            <if test="isStateIn != null and isStateIn!= '' ">
            and inOut1.IS_STATE_IN = #{isStateIn}
            </if>
            <if test="itemVerId != null and itemVerId!='' ">
            and inOut1.ITEM_VER_ID = #{itemVerId}
            </if>
            <if test="itemVerIds != null and itemVerIds.size()>0">
            and inOut1.ITEM_VER_ID in
                <foreach collection="itemVerIds" item="itemVerId" open="(" separator="," close=")">
                    #{itemVerId}
                </foreach>
            </if>
            <if test="stateVerId != null and stateVerId!='' ">
            and inOut1.STATE_VER_ID = #{stateVerId}
            </if>
            <if test="itemStateId != null and itemStateId!='' ">
            and inOut1.ITEM_STATE_ID = #{itemStateId}
            </if>
            <if test="keyword != null and keyword != ''">
            and (
                mat.MAT_NAME like CONCAT(CONCAT('%',#{keyword}),'%') or
                mat.MAT_CODE like CONCAT(CONCAT('%',#{keyword}),'%')
                )
            </if>
        </where>
        group by item.ITEM_ID
    </select>

    <select id="listInOfficeMatRelItemInfo" resultType="AeaItemInout">
        select
            <include refid="aliasColumns">
                <property name="alias" value="inOut1"></property>
            </include>,
            mat.IS_COMMON isCommon,
            mat.MAT_NAME as aeaMatCertName,
            mat.MAT_CODE as aeaMatCertCode,
            mat.MAT_PROP matProp,
            mat.CERT_ID certId,
            mat.STO_FORM_ID formId,
            item.ITEM_ID as itemId,
            item.ITEM_VER_ID as itemVerId,
            item.ITEM_CODE as itemCode,
            item.ITEM_NAME as itemName,
            case item.IS_CATALOG when '1' then '标准事项' else '实施事项' end as isCatalog,
            case item.IS_CATALOG when '1' then item.GUIDE_ORG_NAME else item.ORG_NAME end as orgName
        from AEA_ITEM_INOUT inOut1
        join AEA_ITEM_MAT mat on inOut1.MAT_ID = mat.MAT_ID
        join (
            select
                aib.ITEM_ID,
                aib.ITEM_VER_ID,
                aib.ITEM_CODE,
                aib.ITEM_NAME,
                aib.IS_CATALOG,
                aib.ROOT_ORG_ID,
                aib.GUIDE_ORG_NAME,
                org.ORG_NAME
            from AEA_ITEM_BASIC aib
            left join OPU_OM_ORG org on org.ORG_ID = aib.ORG_ID and org.ORG_DELETED = '0'
        )item on item.ITEM_VER_ID = inOut1.ITEM_VER_ID
        join (
            select
                ITEM_STATE_VER_ID,
                ITEM_ID,
                ITEM_VER_ID,
                VER_NUM,
                VER_STATUS
            from aea_item_state_ver ver
            join (
                select
                    ITEM_ID as itemId2,
                    ITEM_VER_ID as itemVerId2,
                    max(VER_NUM) as maxNum
                from aea_item_state_ver
                where IS_DELETED = '0' and VER_STATUS in ('2', '1') and ROOT_ORG_ID = #{rootOrgId}
                group by ITEM_ID, ITEM_VER_ID
            ) maxVer on ver.ITEM_ID = maxVer.itemId2 and ver.ITEM_VER_ID = maxVer.itemVerId2 and ver.VER_NUM = maxVer.maxNum
        ) itemStateVer on itemStateVer.ITEM_VER_ID = inOut1.ITEM_VER_ID and itemStateVer.ITEM_STATE_VER_ID = inOut1.STATE_VER_ID
        <where>
            and item.ROOT_ORG_ID = #{rootOrgId}
            and mat.ROOT_ORG_ID = #{rootOrgId}
            and inOut1.ROOT_ORG_ID = #{rootOrgId}
            and mat.IS_DELETED = '0'
            and mat.IS_OFFICIAL_DOC = '1'
            and inOut1.IS_DELETED = '0'
            and inOut1.FILE_TYPE = 'mat'
            and inOut1.IS_INPUT = #{isInput}
            <if test="isStateIn != null and isStateIn != '' ">
            and inOut1.IS_STATE_IN = #{isStateIn}
            </if>
            <if test="itemVerId != null and itemVerId !='' ">
            and inOut1.ITEM_VER_ID = #{itemVerId}
            </if>
            <if test="itemVerIds != null and itemVerIds.size()>0">
            and inOut1.ITEM_VER_ID in
                <foreach collection="itemVerIds" item="itemVerId" open="(" separator="," close=")">
                    #{itemVerId}
                </foreach>
            </if>
            <if test="stateVerId != null and stateVerId !='' ">
            and inOut1.STATE_VER_ID = #{stateVerId}
            </if>
            <if test="itemStateId != null and itemStateId !='' ">
            and inOut1.ITEM_STATE_ID = #{itemStateId}
            </if>
            <if test="keyword != null and keyword != ''">
            and (
                mat.MAT_NAME like CONCAT(CONCAT('%',#{keyword}),'%') or
                mat.MAT_CODE like CONCAT(CONCAT('%',#{keyword}),'%')
            )
            </if>
        </where>
        group by item.ITEM_ID
    </select>
    <!--询单项不分情形下材料定义列表-中介超市用-->
    <select id="getSeriesNoStateMatList" resultType="com.augurit.aplanmis.common.domain.AeaItemMat">
        select
        <include refid="aliasColumns">
            <property name="alias" value="aii"/>
        </include>
        ,
        <include refid="allColumns_aim">
            <property name="alias" value="aim"/>
        </include>
        from aea_item_inout aii
        LEFT JOIN AEA_ITEM_MAT aim on aim.MAT_ID=aii.MAT_ID
        where aii.item_ver_id=#{itemVerId} and aii.IS_OWNER='1' and aii.IS_INPUT='1' and aii.IS_STATE_IN='0'
    </select>

    <resultMap id="aeaItemInoutMatDtoMap" type="com.augurit.aplanmis.common.dto.AeaItemInoutMatDto">
        <id property="inoutId" column="INOUT_ID"/>
        <result property="itemVerId" column="ITEM_VER_ID"/>
        <result property="stateVerId" column="STATE_VER_ID"/>
        <result property="isOwner" column="IS_OWNER"/>
        <result property="isInput" column="IS_INPUT"/>
        <result property="isStateIn" column="IS_STATE_IN"/>
        <result property="fileType" column="FILE_TYPE"/>
        <result property="matId" column="MAT_ID"/>
        <result property="certId" column="CERT_ID"/>
        <result property="ioutCreater" column="IOUT_CREATER"/>
        <result property="ioutCreateTime" column="IOUT_CREATE_TIME"/>
        <result property="ioutModifier" column="IOUT_MODIFIER"/>
        <result property="ioutModifierTime" column="IOUT_MODIFY_TIME"/>
        <result property="ioutIsDeleted" column="IOUT_IS_DELETED"/>
        <result property="itemStateId" column="ITEM_STATE_ID"/>
        <result property="ioutSortNo" column="IOUT_SORT_NO"/>

        <result property="matCode" column="MAT_CODE"/>
        <result property="matName" column="MAT_NAME"/>
        <result property="isGlobalShare" column="IS_GLOBAL_SHARE"/>
        <result property="matTypeId" column="MAT_TYPE_ID"/>
        <result property="receiveMode" column="RECEIVE_MODE"/>
        <result property="duePaperCount" column="DUE_PAPER_COUNT"/>
        <result property="dueCopyCount" column="DUE_COPY_COUNT"/>
        <result property="matFrom" column="MAT_FROM"/>
        <result property="sampleDoc" column="SAMPLE_DOC"/>
        <result property="templateDoc" column="TEMPLATE_DOC"/>
        <result property="matRequire" column="MAT_REQUIRE"/>
        <result property="matBasis" column="MAT_BASIS"/>
        <result property="paperIsRequire" column="PAPER_IS_REQUIRE"/>
        <result property="matSortNo" column="MAT_SORT_NO"/>
        <result property="matMemo" column="MAT_MEMO"/>
        <result property="isActive" column="IS_ACTIVE"/>
        <result property="matIsDeleted" column="MAT_IS_DELETED"/>
        <result property="matCreater" column="MAT_CREATER"/>
        <result property="matCreateTime" column="MAT_CREATE_TIME"/>
        <result property="matModifier" column="MAT_MODIFIER"/>
        <result property="matModifyTime" column="MAT_MODIFY_TIME"/>
        <result property="attDirId" column="ATT_DIR_ID"/>
        <result property="matHolder" column="MAT_HOLDER"/>
        <result property="isOfficialDoc" column="IS_OFFICIAL_DOC"/>
        <result property="attIsRequire" column="ATT_IS_REQUIRE"/>
        <result property="isCommon" column="IS_COMMON"/>
        <result property="reviewKeyPoints" column="REVIEW_KEY_POINTS"/>
        <result property="reviewSampleDoc" column="REVIEW_SAMPLE_DOC"/>
        <result property="reviewBasis" column="REVIEW_BASIS"/>
        <result property="matFromDept" column="MAT_FROM_DEPT"/>
        <result property="duePaperType" column="DUE_PAPER_TYPE"/>
        <result property="dueCopyType" column="DUE_COPY_TYPE"/>
        <result property="paperMatType" column="PAPER_MAT_TYPE"/>
        <result property="zcqy" column="ZCQY"/>
        <result property="matProp" column="MAT_PROP"/>
        <result property="certId" column="CERT_ID"/>
        <result property="formId" column="STO_FORM_ID"/>
    </resultMap>

    <resultMap id="inoutAndMatResultMap" type="AeaItemInout">
        <id property="inoutId" column="INOUT_ID"/>
        <result property="itemVerId" column="ITEM_VER_ID"/>
        <result property="stateVerId" column="STATE_VER_ID"/>
        <result property="isOwner" column="IS_OWNER"/>
        <result property="isInput" column="IS_INPUT"/>
        <result property="isStateIn" column="IS_STATE_IN"/>
        <result property="fileType" column="FILE_TYPE"/>
        <result property="matId" column="MAT_ID"/>
        <result property="certId" column="CERT_ID"/>
        <result property="creater" column="CREATER1"/>
        <result property="createTime" column="CREATE_TIME1"/>
        <result property="modifier" column="MODIFIER1"/>
        <result property="modifyTime" column="MODIFY_TIME1"/>
        <result property="isDeleted" column="IS_DELETED"/>
        <result property="itemStateId" column="ITEM_STATE_ID"/>
        <result property="matProp" column="MAT_PROP"/>
        <result property="certId" column="CERT_ID"/>
        <result property="formId" column="STO_FORM_ID"/>
        <association property="aeaItemMat" javaType="AeaItemMat">
            <id property="matId" column="MAT_ID"/>
            <result property="matCode" column="MAT_CODE"/>
            <result property="matName" column="MAT_NAME"/>
            <result property="isGlobalShare" column="IS_GLOBAL_SHARE"/>
            <result property="matTypeId" column="MAT_TYPE_ID"/>
            <result property="receiveMode" column="RECEIVE_MODE"/>
            <result property="duePaperCount" column="DUE_PAPER_COUNT"/>
            <result property="dueCopyCount" column="DUE_COPY_COUNT"/>
            <result property="matFrom" column="MAT_FROM"/>
            <result property="sampleDoc" column="SAMPLE_DOC"/>
            <result property="templateDoc" column="TEMPLATE_DOC"/>
            <result property="matRequire" column="MAT_REQUIRE"/>
            <result property="matBasis" column="MAT_BASIS"/>
            <result property="paperIsRequire" column="PAPER_IS_REQUIRE"/>
            <result property="sortNo" column="SORT_NO"/>
            <result property="matMemo" column="MAT_MEMO"/>
            <result property="isActive" column="IS_ACTIVE"/>
            <result property="isDeleted" column="IS_DELETED"/>
            <result property="creater" column="CREATER"/>
            <result property="createTime" column="CREATE_TIME"/>
            <result property="modifier" column="MODIFIER"/>
            <result property="modifyTime" column="MODIFY_TIME"/>
            <result property="attDirId" column="ATT_DIR_ID"/>
            <result property="matHolder" column="MAT_HOLDER"/>
            <result property="isOfficialDoc" column="IS_OFFICIAL_DOC"/>
            <result property="attIsRequire" column="ATT_IS_REQUIRE"/>
            <result property="isCommon" column="IS_COMMON"/>
            <result property="zcqy" column="ZCQY"/>
            <result property="reviewKeyPoints" column="REVIEW_KEY_POINTS"/>
            <result property="reviewSampleDoc" column="REVIEW_SAMPLE_DOC"/>
            <result property="reviewBasis" column="REVIEW_BASIS"/>
            <result property="matProp" column="MAT_PROP"/>
            <result property="certId" column="CERT_ID"/>
            <result property="stoFormId" column="STO_FORM_ID"/>
        </association>
    </resultMap>

</mapper>