<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<!--created by ylf_i    2019-12-17 16:30:28 -->
<!--0 一些前置信息配置 -->
<mapper namespace="com.augurit.aplanmis.data.exchange.mapper.aplanmis.ProjPurchaseMapper">
    <!--1 返回所有字段的SQL字句 -->
    <sql id="allColumns">
        DFSJZJ dfsjzj,
        XZQHDM xzqhdm,
        XMDM xmdm,
        ZJFWSXMC zjfwsxmc,
        ZJFWSXBM zjfwsxbm,
        DYBZZJFWSXBM dybzzjfwsxbm,
        ZJFWSXSLBM zjfwsxslbm,
        SPSXSLBM spsxslbm,
        BLSX blsx,
        SXLX sxlx,
        ZJJGDM zjjgdm,
        ZJJGMC zjjgmc,
        WTR wtr,
        WTRDM wtrdm,
        SJYXBS sjyxbs
    </sql>

    <!--2 根据主键ID查询单个实体 -->
    <select id="getSpglZjfwsxblxxbById" resultType="SpglZjfwsxblxxb">
        select
        <include refid="allColumns"/>
        from SPGL_ZJFWSXBLXXB_VIEW
        where LSH = #{id}
    </select>

    <!--3 根据条件查询实体list -->
    <select id="listSpglZjfwsxblxxb" resultType="SpglZjfwsxblxxb">
        select
        <include refid="allColumns"/>
        from SPGL_ZJFWSXBLXXB_VIEW
        <where>
            <if test="lsh != null">
                AND LSH = #{lsh}
            </if>
            <if test="dfsjzj != null">
                AND DFSJZJ = #{dfsjzj}
            </if>
            <if test="xzqhdm != null">
                AND XZQHDM = #{xzqhdm}
            </if>
            <if test="xmdm != null">
                AND XMDM = #{xmdm}
            </if>
            <if test="zjfwsxmc != null">
                AND ZJFWSXMC = #{zjfwsxmc}
            </if>
            <if test="zjfwsxbm != null">
                AND ZJFWSXBM = #{zjfwsxbm}
            </if>
            <if test="dybzzjfwsxbm != null">
                AND DYBZZJFWSXBM = #{dybzzjfwsxbm}
            </if>
            <if test="zjfwsxslbm != null">
                AND ZJFWSXSLBM = #{zjfwsxslbm}
            </if>
            <if test="spsxslbm != null">
                AND SPSXSLBM = #{spsxslbm}
            </if>
            <if test="blsx != null">
                AND BLSX = #{blsx}
            </if>
            <if test="sxlx != null">
                AND SXLX = #{sxlx}
            </if>
            <if test="zjjgdm != null">
                AND ZJJGDM = #{zjjgdm}
            </if>
            <if test="zjjgmc != null">
                AND ZJJGMC = #{zjjgmc}
            </if>
            <if test="wtr != null">
                AND WTR = #{wtr}
            </if>
            <if test="wtrdm != null">
                AND WTRDM = #{wtrdm}
            </if>
            <if test="sjyxbs != null">
                AND SJYXBS = #{sjyxbs}
            </if>
            <if test="sjwxyy != null">
                AND SJWXYY = #{sjwxyy}
            </if>
            <if test="sjsczt != null">
                AND SJSCZT = #{sjsczt}
            </if>
            <if test="sbyy != null">
                AND SBYY = #{sbyy}
            </if>
            <if test="scsj != null">
                AND scsj = #{scsj}
            </if>
            <if test="gxsj != null">
                AND gxsj = #{gxsj}
            </if>
        </where>
    </select>

    <select id="listSpglZjfwsxblxxbByTimeRange" resultType="SpglZjfwsxblxxb">
        select
        <include refid="allColumns"/>
        from SPGL_ZJFWSXBLXXB_VIEW
        <where>
            <if test="startTime != null">
                AND MODIFY_TIME &gt;= #{startTime}
            </if>
            <if test="endTime != null">
                AND MODIFY_TIME &lt; #{endTime}
            </if>
        </where>
    </select>
</mapper>