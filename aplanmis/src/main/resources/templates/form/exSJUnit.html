<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:include="common/common :: commonheader('施工和监理单位信息')" />
    <link rel="stylesheet" href="../../static/apply/css/index.css" th:href="@{/form/css/exSJUnit.css}">
</head>
<body class="gray-body">
    <div id="approve" v-cloak v-loading="loading">
        <div class="content">
            <div class="vertical-tab">
                <ul>
                    <li class="vertical-label"
                        v-show="index<showVerLen"
                        v-for="(item, index) in verticalTabData"
                        :class="activeTab==index?'active':item.target"
                        data-name="item.target"
                        :key="index">
                        <a :href="'#'+item.target">{{item.label}}</a>
                    </li>
                </ul>
            </div>
            <el-collapse v-model="activeNames">
                <!--  基本信息  start  -->
                <el-collapse-item class="clearfix" name="1" id="baseInfo">
                    <template slot="title">
                        <i class="header-icon icon ag ag-project-info"></i>施工和监理单位信息
                    </template>
                    <el-form label-width="210px" ref="unitInfoShowFrom" :rules="unitInfoShowFromRules" :model="unitInfoShowFrom">
                        <input type="hidden" name="projInfoId" :value="unitInfoShowFrom.projInfoId">
                        <div class="clearfix">
                            <el-form-item class="input-inline" prop="provinceProjCode">
                                <template slot="label">
                                    省级项目编号
                                </template>
                                <el-input name="provinceProjCode" :disabled="linkQuerySucc" v-model="unitInfoShowFrom.provinceProjCode" placeholder="省级项目编号"></el-input>
                            </el-form-item>
                            <el-form-item class="input-inline" label="合同开工日期" prop="contractStartBuildTime">
                                <el-date-picker v-model="unitInfoShowFrom.contractStartBuildTime" type="date" placeholder="请选择合同开工日期" format="yyyy 年 MM 月 dd 日" value-format="yyyy-MM-dd">
                                    <input v-model="unitInfoShowFrom.contractStartBuildTime" type="hidden">
                                </el-date-picker>
                            </el-form-item>
                            <el-form-item class="input-inline" label="合同竣工日期" prop="contractEndBuildTime">
                                <el-date-picker v-model="unitInfoShowFrom.contractEndBuildTime" type="date" placeholder="请选择合同竣工日期" format="yyyy 年 MM 月 dd 日" value-format="yyyy-MM-dd">
                                    <input v-model="unitInfoShowFrom.contractEndBuildTime" type="hidden">
                                </el-date-picker>
                            </el-form-item>
                            <el-form-item class="input-inline" label="施工面积（平方米）" prop="buildArea">
                                <el-input v-model="unitInfoShowFrom.buildArea" placeholder="请输入施工面积"></el-input>
                            </el-form-item>
                            <el-form-item label="结构体系" class="input-inline" prop="structureSystem">
                                <el-select v-model="unitInfoShowFrom.structureSystem" placeholder="请选择结构体系">
                                    <el-option v-for="(item,index) in structureSystem" :key="index" :label="item.itemName" :value="item.itemCode"></el-option>
                                </el-select>
                            </el-form-item>
                            <el-form-item class="input-inline" label="质量监督注册号" prop="quaCheckNum">
                                <el-input v-model="unitInfoShowFrom.quaCheckNum" placeholder="请输入质量监督注册号"></el-input>
                            </el-form-item>
                        </div>
                    </el-form>
                    <!--工程总承包单位-->
                    <el-form label-width="210px" class="clearfix" :model="gongchengzongFrom" :rules="gongchengzongFromRules" ref="gongchengzongFrom">
                        <p class="apply-info-title">工程总承包单位</p>
                        <input type="hidden" name="unitType" value="gongchengzongFrom:unitType">
                        <input type="hidden" name="unitProjId" :value="gongchengzongFrom.unitProjId">
                        <input type="hidden" name="unitInfoId" :value="gongchengzongFrom.unitInfoId">
                        <el-col :span="12">
                            <el-form-item label="单位名称" prop="applicant">
                                <el-autocomplete :trigger-on-focus="false" :fetch-suggestions="querySearchJiansheName"
                                                 @select="function(value) {selUnitInfo(value,'gongchengzongFrom')}"
                                                 v-model="gongchengzongFrom.applicant" placeholder="请输入单位名称">
                                </el-autocomplete>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <el-form-item label="法定代表人" prop="idrepresentative">
                                <el-input v-model="gongchengzongFrom.idrepresentative" placeholder="请输入法定代表人"></el-input>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <el-form-item label="法定代表人联系电话" prop="idmobile">
                                <el-input v-model="gongchengzongFrom.idmobile" placeholder="法定代表人联系电话">
                                </el-input>
                            </el-form-item>
                        </el-col>
                        <input type="hidden" name="linkmanInfoId" :value="gongchengzongFrom.linkmanInfoId">
                        <el-col :span="12">
                            <el-form-item label="工程总承包项目经理" prop="linkmanMobilePhone">
                                <el-input v-model="gongchengzongFrom.linkmanName" placeholder="请输入工程总承包项目经理">
                                </el-input>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <el-form-item label="工程总承包项目经理联系电话" prop="linkmanMobilePhone">
                                <el-input v-model="gongchengzongFrom.linkmanMobilePhone" placeholder="请输入工程总承包项目经理联系电话">
                                </el-input>
                            </el-form-item>
                        </el-col>
                    </el-form>
                    <!--工程总承包单位end-->
                    <!--施工总承包单位-->
                    <el-form label-width="210px" class="clearfix" :model="applyShigongzongFrom" :rules="rulesApplyShigongzongFrom" ref="applyShigongzongFrom">
                        <p class="apply-info-title">施工总承包单位</p>
                        <input type="hidden" name="unitType" value="applyShigongzongFrom.unitType">
                        <input type="hidden" name="unitInfoId" :value="applyShigongzongFrom.unitInfoId">
                        <input type="hidden" name="unitProjId" :value="applyShigongzongFrom.unitProjId">
                        <el-col :span="12">
                            <el-form-item label="单位名称" prop="applicant">
                                <!--<el-input v-model="applyShigongzongFrom.applicant" placeholder="请输入单位名称"></el-input>-->
                                <el-autocomplete :trigger-on-focus="false" :fetch-suggestions="querySearchJiansheName"
                                                 @select="function(value) {selUnitInfo(value,'shigongzongchengbao')}"
                                                 v-model="applyShigongzongFrom.applicant" placeholder="请输入单位名称">
                                </el-autocomplete>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                                <el-form-item label="资质等级" class="input-ex" prop="qualLevelName">
                                    <!--<el-input v-model="applyShigongzongFrom.qualLevelName" placeholder="请输入资质等级"></el-input>-->
                                    <input name="qualLevelId" type="hidden" :value="applyShigongzongFrom.qualLevelId">
                                    <el-select v-model="applyShigongzongFrom.qualLevelName" filterable placeholder="请选择资质等级">
                                        <el-option v-for="(item,index) in qualLevelName" :key="item.qualLevelId" :label="item.qualLevelName" :value="item.qualLevelId"></el-option>
                                    </el-select>
                                </el-form-item>
                            </el-col>
                        <el-col :span="12">
                            <input type="hidden" name="certinstId" :value="applyShigongzongFrom.certinstId">
                            <el-form-item label="证书编号" prop="certinstCode">
                                <el-input v-model="applyShigongzongFrom.certinstCode" placeholder="请输入证书编号">
                                </el-input>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <el-form-item label="安全生产许可证编号" prop="uniitSafeLicenceNum">
                                <el-input v-model="applyShigongzongFrom.unitSafeLicenceNum" placeholder="请输入安全生产许可证编号">
                                </el-input>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <el-form-item label="法定代表人" prop="idrepresentative">
                                <el-input v-model="applyShigongzongFrom.idrepresentative" placeholder="请输入法定代表人">
                                </el-input>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <el-form-item label="法定代表人联系电话" prop="idmobile">
                                <el-input v-model="applyShigongzongFrom.idmobile" placeholder="请输入法定代表人联系电话">
                                </el-input>
                            </el-form-item>
                        </el-col>
                        <input type="hidden" name="linkmanInfoId" :value="applyShigongzongFrom.linkmanInfoId">
                        <el-col :span="12">
                            <el-form-item label="项目负责人（项目经理）" prop="linkmanName">
                                <el-input v-model="applyShigongzongFrom.linkmanName" placeholder="请输入项目负责人">
                                </el-input>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <el-form-item label="注册编号" prop="registerNum">
                                <el-input v-model="applyShigongzongFrom.registerNum" placeholder="请输入注册编号">
                                </el-input>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <el-form-item label="安全生产考核合格证号" prop="personSafeLicenceNum">
                                <el-input v-model="applyShigongzongFrom.personSafeLicenceNum" placeholder="请输入安全生产考核合格证号">
                                </el-input>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <el-form-item label="项目负责人（项目经理）联系电话" prop="linkmanMobilePhone">
                                <el-input v-model="applyShigongzongFrom.linkmanMobilePhone" placeholder="请输入项目负责人（项目经理）联系电话"></el-input>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12" class="fl linkman-set">
                            <el-form-item label="人员设置" prop="induCommRegNum">
                                <el-row class="linkman-set-item" v-for="(type,index) in applyShigongzongFrom.personSetting" :key="index">
                                    <el-col :span="2" style="width:5.5% !important;">
                                        <el-button v-if="index==0"
                                                   icon="el-icon-circle-plus-outline"
                                                   type="primary"
                                                   class="item-left-btn"
                                                   @click="addLinkmanTypes(applyShigongzongFrom.personSetting)"
                                                   title="新增"></el-button>
                                        <el-button v-else
                                                   icon="el-icon-remove-outline"
                                                   type="primary"
                                                   @click="delLinkmanTypes(applyShigongzongFrom.personSetting,index)"
                                                   class="item-left-btn" title="删除"></el-button>
                                    </el-col>
                                    <el-col :span="4">
                                        <el-select v-model="type.linkmanType" filterable placeholder="请选中人员类型">
                                            <el-option v-for="(item,index) in projUnitLinkmanType" :key="item.itemId" :label="item.itemName" :value="item.itemCode"></el-option></el-select>
                                    </el-col>
                                    <el-col  class="name" :span="4">
                                        <el-select v-model="type.linkmanName" filterable placeholder="请选择联系人" @click.native="getUnitLinkManList(applyShigongzongFrom)" :loading="loadingUnitLinkMan">
                                            <el-option v-for="item in unitLinkManOptions" :key="item.addressId" @click.native="selTypeLinkman(type,item)" :label="item.addressName" :value="item.addressName"></el-option></el-select>
                                    </el-col>
                                    <input type="hidden" name="linkmanInfoId" :value="type.linkmanInfoId">
                                    <el-col :span="6" style="width:32% !important;">
                                        <el-form-item class="linkmanCertNo" label="身份证号码" label-width="96px" prop="linkmanCertNo">
                                            <el-input style="width:135px" v-model="type.linkmanCertNo" placeholder="请输入身份证号码"></el-input></el-form-item>
                                    </el-col>
                                    <el-col :span="11" style="width:22% !important;">
                                        <el-form-item class="dingzhi" label-width="86px" prop="safetyProductionCer">
                                            <span slot="label">安全生产考<br>核合格证号</span>
                                            <el-input style="width:129px" v-model="type.safetyProductionCer" placeholder="安全生产考核合格证号"></el-input>
                                        </el-form-item>
                                    </el-col>
                                </el-row>
                            </el-form-item>
                        </el-col>
                    </el-form>
                    <!--施工专业分包单位-->
                    <el-form label-width="210px" class="clearfix" :model="applyShigongzhuanyefenbaoFrom" :rules="rulesShigongzhuanyefenbaoFrom" ref="applyShigongzhuanyefenbaoFrom">
                        <p class="apply-info-title">施工专业分包单位</p>
                        <input type="hidden" name="unitType" value="applyShigongzhuanyefenbaoFrom.unitType">
                        <input type="hidden" name="unitInfoId" :value="applyShigongzhuanyefenbaoFrom.unitInfoId">
                        <input type="hidden" name="unitProjId" :value="applyShigongzhuanyefenbaoFrom.unitProjId">
                        <el-col :span="12">
                            <el-form-item label="单位名称" prop="applicant">
                                <el-autocomplete :trigger-on-focus="false" :fetch-suggestions="querySearchJiansheName"
                                                 @select="function(value) {selUnitInfo(value,'applyShigongzhuanyefenbaoFrom')}"
                                                 v-model="applyShigongzhuanyefenbaoFrom.applicant" placeholder="请输入单位名称">
                                </el-autocomplete>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <el-form-item label="资质等级" class="input-ex" prop="qualLevelName">
                                <!--<el-input v-model="applyShigongzongFrom.qualLevelName" placeholder="请输入资质等级"></el-input>-->
                                <el-select v-model="applyShigongzhuanyefenbaoFrom.qualLevelName" filterable placeholder="请选择资质等级">
                                    <el-option v-for="(item,index) in qualLevelName" :key="item.qualLevelId" :label="item.qualLevelName" :value="item.qualLevelId"></el-option>
                                </el-select>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <input type="hidden" name="certinstId" :value="applyShigongzhuanyefenbaoFrom.certinstId">
                            <el-form-item label="证书编号" prop="certinstCode">
                                <el-input v-model="applyShigongzhuanyefenbaoFrom.certinstCode" placeholder="请输入证书编号">
                                </el-input>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <el-form-item label="安全生产许可证编号" prop="uniitSafeLicenceNum">
                                <el-input v-model="applyShigongzhuanyefenbaoFrom.uniitSafeLicenceNum" placeholder="请输入安全生产许可证编号">
                                </el-input>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <el-form-item label="法定代表人" prop="idrepresentative">
                                <el-input v-model="applyShigongzhuanyefenbaoFrom.idrepresentative" placeholder="请输入法定代表人">
                                </el-input>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <el-form-item label="法定代表人联系电话" prop="idmobile">
                                <el-input v-model="applyShigongzhuanyefenbaoFrom.idmobile" placeholder="请输入法定代表人联系电话">
                                </el-input>
                            </el-form-item>
                        </el-col>
                        <input type="hidden" name="linkmanInfoId" :value="applyShigongzhuanyefenbaoFrom.linkmanInfoId">
                        <el-col :span="12">
                            <el-form-item label="专业分包技术负责人" prop="linkmanName">
                                <el-input v-model="applyShigongzhuanyefenbaoFrom.linkmanName" placeholder="请输入专业分包技术负责人">
                                </el-input>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <el-form-item label="注册编号" prop="registerNum">
                                <el-input v-model="applyShigongzhuanyefenbaoFrom.registerNum" placeholder="请输入注册编号">
                                </el-input>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <el-form-item label="安全生产考核合格证号" prop="personSafeLicenceNum">
                                <el-input v-model="applyShigongzhuanyefenbaoFrom.personSafeLicenceNum" placeholder="请输入安全生产考核合格证号">
                                </el-input>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <el-form-item label="专业分包技术负责人联系电话" prop="linkmanMobilePhone">
                                <el-input v-model="applyShigongzhuanyefenbaoFrom.linkmanMobilePhone" placeholder="请输入专业分包技术负责人联系电话">
                                </el-input>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12" class="fl linkman-set">
                            <el-form-item label="人员设置" prop="induCommRegNum">
                                <el-row class="linkman-set-item" v-for="(type,index) in applyShigongzhuanyefenbaoFrom.personSetting" :key="index">
                                    <el-col :span="2" style="width:5.5% !important;">
                                        <el-button v-if="index==0"
                                                   icon="el-icon-circle-plus-outline"
                                                   type="primary"
                                                   class="item-left-btn"
                                                   @click="addLinkmanTypes(applyShigongzhuanyefenbaoFrom.personSetting)"
                                                   title="新增"></el-button>
                                        <el-button v-else
                                                   icon="el-icon-remove-outline"
                                                   type="primary"
                                                   @click="delLinkmanTypes(applyShigongzhuanyefenbaoFrom.personSetting,index)"
                                                   class="item-left-btn" title="删除"></el-button>
                                    </el-col>
                                    <el-col :span="4">
                                        <el-select v-model="type.linkmanType" filterable placeholder="请选中人员类型" :loading="loadingUnitLinkMan">
                                            <el-option v-for="(item,index) in projUnitLinkmanType" :key="item.itemId" :label="item.itemName" :value="item.itemCode"></el-option></el-select>
                                    </el-col>
                                    <el-col  class="name" :span="4">
                                        <el-select
                                                v-model="type.linkmanName"
                                                filterable
                                                placeholder="请选择联系人"
                                                @click.native="getUnitLinkManList(applyShigongzhuanyefenbaoFrom)"
                                                :loading="loadingUnitLinkMan">
                                            <el-option
                                                    v-for="item in unitLinkManOptions"
                                                    :key="item.addressId"
                                                    @click.native="selTypeLinkman(type,item)"
                                                    :label="item.addressName"
                                                    :value="item.addressName">
                                            </el-option>
                                        </el-select>
                                    </el-col>
                                    <input name="linkmanInfoId" :value="type.linkmanInfoId" type="hidden">
                                    <el-col :span="6" style="width:32% !important;">
                                        <el-form-item class="linkmanCertNo" label="身份证号码" label-width="96px" prop="linkmanCertNo">
                                            <el-input style="width:135px" v-model="type.linkmanCertNo" placeholder="请输入身份证号码"></el-input>
                                        </el-form-item>
                                    </el-col>
                                    <el-col :span="11" style="width:22% !important;">
                                        <el-form-item class="dingzhi" label-width="86px" prop="safetyProductionCer">
                                            <span slot="label">安全生产考<br>核合格证号</span>
                                            <el-input style="width:129px" v-model="type.safetyProductionCer" placeholder="安全生产考核合格证号"></el-input>
                                        </el-form-item>
                                    </el-col>
                                </el-row>
                            </el-form-item>
                        </el-col>
                    </el-form>
                    <!--施工专业分包单位end-->
                    <!---施工劳务分包单位start-->
                    <el-form label-width="210px" class="clearfix" :model="applyShigonglaowufenbaoFrom" :rules="rulesShigonglaowufenbaoFrom" ref="applyShigonglaowufenbaoFrom">
                        <p class="apply-info-title">施工劳务分包单位</p>
                        <input type="hidden" name="unitType" value="applyShigonglaowufenbaoFrom.unitType">
                        <input type="hidden" name="unitInfoId" :value="applyShigonglaowufenbaoFrom.unitInfoId">
                        <input type="hidden" name="unitProjId" :value="applyShigonglaowufenbaoFrom.unitProjId">
                        <el-col :span="12">
                            <el-form-item label="单位名称" prop="applicant">
                                <el-autocomplete :trigger-on-focus="false" :fetch-suggestions="querySearchJiansheName"
                                                 @select="function(value) {selUnitInfo(value,'applyShigonglaowufenbaoFrom')}"
                                                 v-model="applyShigonglaowufenbaoFrom.applicant" placeholder="请输入单位名称">
                                </el-autocomplete>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <el-form-item label="资质等级" class="input-ex" prop="qualLevelName">
                                <!--<el-input v-model="applyShigongzongFrom.qualLevelName" placeholder="请输入资质等级"></el-input>-->
                                <el-select v-model="applyShigonglaowufenbaoFrom.qualLevelName" filterable placeholder="请选择资质等级">
                                    <el-option v-for="(item,index) in qualLevelName" :key="item.qualLevelId" :label="item.qualLevelName" :value="item.qualLevelId"></el-option>
                                </el-select>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <input type="hidden" name="certinstId" :value="applyShigonglaowufenbaoFrom.certinstId">
                            <el-form-item label="证书编号" prop="certinstCode">
                                <el-input v-model="applyShigonglaowufenbaoFrom.certinstCode" placeholder="请输入证书编号">
                                </el-input>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <el-form-item label="安全生产许可证编号" prop="unitSafeLicenceNum">
                                <el-input v-model="applyShigonglaowufenbaoFrom.unitSafeLicenceNum" placeholder="请输入安全生产许可证编号">
                                </el-input>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <el-form-item label="法定代表人" prop="idrepresentative">
                                <el-input v-model="applyShigonglaowufenbaoFrom.idrepresentative" placeholder="请输入法定代表人">
                                </el-input>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <el-form-item label="法定代表人联系电话" prop="idmobile">
                                <el-input v-model="applyShigonglaowufenbaoFrom.idmobile" placeholder="请输入法定代表人联系电话">
                                </el-input>
                            </el-form-item>
                        </el-col>
                        <input type="hidden" name="linkmanInfoId" :value="applyShigonglaowufenbaoFrom.linkmanInfoId">
                        <el-col :span="12">
                            <el-form-item label="劳务分包技术负责人" prop="linkmanName">
                                <el-input v-model="applyShigonglaowufenbaoFrom.linkmanName" placeholder="请输入劳务分包技术负责人">
                                </el-input>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <el-form-item label="注册编号" prop="registerNum">
                                <el-input v-model="applyShigonglaowufenbaoFrom.registerNum" placeholder="请输入注册编号">
                                </el-input>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <el-form-item label="安全生产考核合格证号" prop="personSafeLicenceNum">
                                <el-input v-model="applyShigonglaowufenbaoFrom.personSafeLicenceNum" placeholder="请输入安全生产考核合格证号">
                                </el-input>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <el-form-item label="劳务分包技术负责人联系电话" prop="linkmanMobilePhone">
                                <el-input v-model="applyShigonglaowufenbaoFrom.linkmanMobilePhone" placeholder="请输入劳务分包技术负责人联系电话">
                                </el-input>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12" class="fl linkman-set">
                            <el-form-item label="人员设置" prop="induCommRegNum">
                                <el-row class="linkman-set-item" v-for="(type,index) in applyShigonglaowufenbaoFrom.personSetting" :key="index">
                                    <el-col :span="2" style="width:5.5% !important;">
                                        <el-button v-if="index==0"
                                                   icon="el-icon-circle-plus-outline"
                                                   type="primary"
                                                   class="item-left-btn"
                                                   @click="addLinkmanTypes(applyShigonglaowufenbaoFrom.personSetting)"
                                                   title="新增"></el-button>
                                        <el-button v-else
                                                   icon="el-icon-remove-outline"
                                                   type="primary"
                                                   @click="delLinkmanTypes(applyShigonglaowufenbaoFrom.personSetting,index)"
                                                   class="item-left-btn" title="删除"></el-button>
                                    </el-col>
                                    <el-col :span="4">
                                        <el-select
                                                v-model="type.linkmanType"
                                                filterable
                                                placeholder="请选中人员类型"
                                                :loading="loadingUnitLinkMan">
                                            <el-option v-for="(item,index) in projUnitLinkmanType" :key="item.itemId" :label="item.itemName" :value="item.itemCode"></el-option>
                                        </el-select>
                                    </el-col>
                                    <el-col class="name" :span="4">
                                        <el-select
                                                v-model="type.linkmanName"
                                                filterable
                                                placeholder="请选择联系人"
                                                @click.native="getUnitLinkManList(applyShigonglaowufenbaoFrom)"
                                                :loading="loadingUnitLinkMan">
                                            <el-option
                                                    v-for="item in unitLinkManOptions"
                                                    :key="item.addressId"
                                                    @click.native="selTypeLinkman(type,item)"
                                                    :label="item.addressName"
                                                    :value="item.addressName">
                                            </el-option>
                                        </el-select>
                                    </el-col>
                                    <el-col :span="6" style="width:32% !important;">
                                        <input type="hidden" name="linkmanInfoId" :value="type.linkmanInfoId">
                                        <el-form-item class="linkmanCertNo" label="身份证号码" label-width="96px" prop="linkmanCertNo">
                                            <el-input style="width:135px" v-model="type.linkmanCertNo" placeholder="请输入身份证号码"></el-input>
                                        </el-form-item>
                                    </el-col>
                                    <el-col :span="11" style="width:22% !important;">
                                        <el-form-item class="dingzhi" label-width="86px" prop="safetyProductionCer">
                                            <span slot="label">安全生产考<br>核合格证号</span>
                                            <el-input style="width:129px" v-model="type.safetyProductionCer" placeholder="安全生产考核合格证号"></el-input>
                                        </el-form-item>
                                    </el-col>
                                </el-row>
                            </el-form-item>
                        </el-col>
                    </el-form>
                    <!--施工劳务分包单位end-->
                    <!--监理单位start-->
                    <el-form label-width="210px" class="clearfix" :model="applyJianliFrom" :rules="rulesJianliFrom" ref="applyJianliFrom">
                        <p class="apply-info-title">监理单位</p>
                        <input type="hidden" name="unitType" value="applyJianliFrom:unitType">
                        <input type="hidden" name="unitInfoId" :value="applyJianliFrom.unitInfoId">
                        <input type="hidden" name="unitProjId" :value="applyJianliFrom.unitProjId">
                        <el-col :span="12">
                            <el-form-item label="组织机构代码" prop="organizationalCode">
                                <el-autocomplete :trigger-on-focus="false" v-model="applyJianliFrom.organizationalCode" placeholder="请输入组织机构代码">
                                </el-autocomplete>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <el-form-item label="统一社会信用代码" prop="unifiedSocialCreditCode">
                                <el-input v-model="applyJianliFrom.unifiedSocialCreditCode" placeholder="请输入统一社会信用代码"></el-input>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <el-form-item label="单位名称" prop="applicant">
                                <el-autocomplete :trigger-on-focus="false" :fetch-suggestions="querySearchJiansheName"
                                                 @select="function(value) {selUnitInfo(value,'applyJianliFrom')}"
                                                 v-model="applyJianliFrom.applicant" placeholder="请输入单位名称">
                                </el-autocomplete>
                            </el-form-item>
                        </el-col>
                        <!--<el-col :span="12">-->
                            <!--<el-form-item label="项目主体类型" prop="unitType">-->
                                <!--<el-input v-model="applyJianliFrom.unitType" placeholder="请输入项目主体类型">-->
                                <!--</el-input>-->
                            <!--</el-form-item>-->
                        <!--</el-col>-->
                        <el-col :span="12">
                            <el-form-item class="input-ex" prop="isProvincial">
                                <template slot="label">
                                    是否省内企业
                                </template>
                                <el-radio-group v-model="applyJianliFrom.isProvincial">
                                    <el-radio label="1" value="1" key="1">是</el-radio>
                                    <el-radio label="0" value="0" key="0">否</el-radio>
                                </el-radio-group>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <el-form-item label="">
                                <el-input type="hidden"></el-input>
                            </el-form-item>
                        </el-col>
                        <input type="hidden" name="linkmanInfoId" :value="applyJianliFrom.linkmanInfoId">
                        <el-col :span="12">
                            <el-form-item label="项目总监姓名" prop="linkmanName">
                                <el-input v-model="applyJianliFrom.linkmanName" placeholder="请输入项目总监姓名">
                                </el-input>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <el-form-item label="项目总监身份证号码" prop="linkmanCertNo">
                                <el-input v-model="applyJianliFrom.linkmanCertNo" placeholder="请输入项目总监身份证号码">
                                </el-input>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <el-form-item label="承担角色" class="input-ex" prop="linkmanType">
                                <el-select v-model="applyJianliFrom.linkmanType" placeholder="请选择承担角色">
                                    <el-option v-for="(i,index) in jiangliLinkmanType" :key="i.itemId" :label="i.itemName" :value="i.itemCode">
                                    </el-option>
                                </el-select>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <el-form-item label="执业注册证类型"  class="input-ex" prop="professionCertType">
                                <el-select v-model="applyJianliFrom.professionCertType" placeholder="请选择执业注册证类型">
                                    <el-option v-for="(i,index) in professionCertType" :key="i.itemId" :label="i.itemName" :value="i.itemCode">
                                    </el-option>
                                </el-select>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <el-form-item label="执业印章号" prop="professionSealNum">
                                <el-input v-model="applyJianliFrom.professionSealNum" placeholder="请输入执业印章号">
                                </el-input>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <el-form-item label="职称等级" class="input-ex" prop="titleGrade">
                                <el-select v-model="applyJianliFrom.titleGrade" placeholder="请选择职称等级">
                                    <el-option v-for="(i,index) in titleCertNum" :key="i.itemId" :label="i.itemName" :value="i.itemCode">
                                    </el-option>
                                </el-select>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12">
                            <el-form-item label="职称证号" prop="titleCertNum">
                                <el-input v-model="applyJianliFrom.titleCertNum" placeholder="请输入职称证号">
                                </el-input>
                            </el-form-item>
                        </el-col>
                        <el-col :span="12" class="fl linkman-set">
                            <el-form-item label="人员设置" prop="induCommRegNum">
                                <el-row class="linkman-set-item" v-for="(type,index) in applyJianliFrom.personSetting" :key="index">
                                    <el-col :span="2">
                                        <el-button v-if="index==0"
                                                   icon="el-icon-circle-plus-outline"
                                                   type="primary"
                                                   class="item-left-btn"
                                                   @click="addLinkmanTypes(applyJianliFrom.personSetting)"
                                                   title="新增"></el-button>
                                        <el-button v-else
                                                   icon="el-icon-remove-outline"
                                                   type="primary"
                                                   @click="delLinkmanTypes(applyJianliFrom.personSetting,index)"
                                                   class="item-left-btn" title="删除"></el-button>
                                    </el-col>
                                    <el-col :span="6">
                                        <el-select
                                                v-model="type.linkmanType"
                                                filterable
                                                placeholder="请选中人员类型"
                                                :loading="loadingUnitLinkMan">
                                            <el-option v-for="(item,index) in projUnitLinkmanType" :key="item.itemId" :label="item.itemName" :value="item.itemCode"></el-option>
                                        </el-select>
                                    </el-col>
                                    <el-col :span="12">
                                        <span class="input-label" style="margin-left: 10px">姓名</span>
                                        <el-select
                                                v-model="type.linkmanName"
                                                filterable
                                                placeholder="请选择联系人"
                                                @click.native="getUnitLinkManList(applyJianliFrom)"
                                                :loading="loadingUnitLinkMan">
                                            <el-option
                                                    v-for="item in unitLinkManOptions"
                                                    :key="item.addressId"
                                                    @click.native="selTypeLinkman(type,item)"
                                                    :label="item.addressName"
                                                    :value="item.addressName">
                                            </el-option>
                                        </el-select>
                                    </el-col>
                                    <el-form-item label="" class="proj-addr-scope">
                                        <input type="hidden" name="linkmanInfoId" :value="type.linkmanInfoId">
                                        <div class="proj-addr-item">
                                            <span class="input-label">身份证</span>
                                            <el-input v-model="type.linkmanCertNo" placeholder="请输入身份证"></el-input>
                                        </div>
                                        <div class="proj-addr-item cardType">
                                            <span class="input-label">职业注册证类型</span>
                                            <el-select v-model="type.professionCertType" placeholder="请选择执业注册证类型">
                                                <el-option v-for="(i,index) in professionCertType" :key="i.itemId" :label="i.itemName" :value="i.itemCode">
                                                </el-option>
                                            </el-select>
                                        </div>
                                        <div class="proj-addr-item">
                                            <span class="input-label">职称证号</span>
                                            <el-input v-model="type.titleCertNum" placeholder="请输职称证号"></el-input>
                                        </div>
                                    </el-form-item>
                                </el-row>
                            </el-form-item>
                        </el-col>
                    </el-form>
                    <!--监理单位end-->x
                </el-collapse-item>
                <el-button type="primary" icon="el-icon-wallet" class="fr" @click="saveOrUpdateSJUnitFrom()">保存</el-button>
                <!---基本信息end-->
            </el-collapse>
        </div>
    </div>
</body>
<th:block th:include="common/common :: commonfooter" />
<script src="../../static/form/js/exSJUnit.js" th:src="@{/form/js/exSJUnit.js}"></script>
</html>